import{c as F,a as T,v as s,h as k,j as L,f as M,e as w}from"../../../../_app/immutable/chunks/index-ff400fad.js";import{W as P}from"../../../../_app/immutable/chunks/Window-e98aeb2f.js";import{B as _}from"../../../../_app/immutable/chunks/Button-c9221fbd.js";import{T as W}from"../../../../_app/immutable/chunks/Tab-945f1ef4.js";import{C as g}from"../../../../_app/immutable/chunks/CheckBox-734e15d0.js";import{h as A,r as G}from"../../../../_app/immutable/chunks/store-3e4ea696.js";import{i as z}from"../../../../_app/immutable/chunks/system-eda41220.js";import{f as m,t as B}from"../../../../_app/immutable/chunks/utils-a62a4de9.js";import C from"lodash";import{t as H}from"../../../../_app/immutable/chunks/finder-762cc408.js";import"../../../../_app/immutable/chunks/TitleBar-7840ae1a.js";import"idb-keyval";/* empty css                                                                             */import"../../../../_app/immutable/chunks/index-2945f287.js";const ee=F((r,l,i,K)=>{let a,y;y=T(A,e=>a=e);let{id:p}=l,{window:n}=l,{self:f}=l,{fs_item:t}=l,{exec_path:v}=l,D=t==null?[]:[["Type",t.type.split("_").map(e=>C.upperFirst(e)).join(" ")],["Location",H(t.id)],...t?.type=="file"?[["Size",m(t.size*1024)]]:[["Size",m(h(t.id)*1024)]],...t?.type=="file"?[["Size on disk",m(Math.ceil(t.size*1024/4096)*4096)]]:[["Size on disk",m(Math.ceil(h(t.id)*1024/4096)*4096)]],...t?.type=="file"?[]:[["Contains",`${t.children.filter(e=>a[e].type=="file").length} Files, ${t.children.filter(e=>a[e].type=="folder").length} Folders`]],["Date Created",B(t.date_created)],["Last Modified",B(t.date_modified)]];function d(){G.update(e=>e.filter(c=>c!=f)),f.$destroy()}let{options:x={title:"Properties",min_width:350,min_height:460,width:350,height:460,icon:null,id:p,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:v}}=l;function h(e){console.log(e);let c=C.sum(a[e].children.map(o=>a[o]).filter(o=>o.type=="file").map(o=>o.size)),j=a[e].children.filter(o=>a[o].type=="folder");for(let o of j)c+=h(o);return c}function S(e){return e.icon!=null?`url(${e.icon})`:z[e.ext]!=null?`url(/images/xp/icons/${z[e.ext]})`:null}l.id===void 0&&i.id&&p!==void 0&&i.id(p),l.window===void 0&&i.window&&n!==void 0&&i.window(n),l.self===void 0&&i.self&&f!==void 0&&i.self(f),l.fs_item===void 0&&i.fs_item&&t!==void 0&&i.fs_item(t),l.exec_path===void 0&&i.exec_path&&v!==void 0&&i.exec_path(v),l.destroy===void 0&&i.destroy&&d!==void 0&&i.destroy(d),l.options===void 0&&i.options&&x!==void 0&&i.options(x);let u,b;do u=!0,b=`${s(P,"Window").$$render(r,{options:x,on_click_close:d,this:n},{this:e=>{n=e,u=!1}},{content:()=>`<div slot="content" class="absolute inset-1 p-2 pb-1 bg-xp-yellow overflow-hidden">${s(W,"Tab").$$render(r,{size:"sm",items:["General","Sharing","Customize"],selected:"General"},{},{})}
        <div class="w-full h-[350px] grow bg-[#fafaf9] shadow-sm -mt-[1px] overflow-hidden overflow-y-auto p-2"><div class="flex flex-row border-b-slate-300 border-b p-2 items-center my-3"><div class="shrink-0 w-[70px]">${t.type=="file"?`<div class="w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/Default.png)] bg-contain bg-no-repeat"${k({"background-image":S(t)})}></div>`:`<div class="w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/FolderClosed.png)] bg-contain bg-no-repeat"${k({"background-image":t.icon==null?"":`url(${t.icon})`})}></div>`}</div>
                <div class="grow ml-2"><input disabled class="border w-full border-slate-400 outline-none text-[11px] pt-0.5 pl-0.5 pb-2"${L("value",t.name,0)}></div></div>

            
            ${M(D,e=>`<div class="flex flex-row px-2 my-3 text-[12px] text-slate-800"><div class="shrink-0 w-[70px]">${w(e[0])}</div>
                    <div class="${"grow ml-2 "+w(e[0]=="Location"?"break-all":"break-words",!0)}">${w(e[1])}</div>
                </div>`)}

            <div class="flex flex-row px-2 my-3 mb-6 text-[12px] text-slate-800"><div class="shrink-0 w-[70px]">Attributes
                </div>
                <div class="grow ml-2 flex flex-row justify-between items-start"><div>${s(g,"CheckBox").$$render(r,{checked:!1,checkmark:!1,label:"Read-only"},{},{})}
                        ${s(g,"CheckBox").$$render(r,{checked:!1,label:"Hidden",style:"margin-top:10px;"},{},{})}</div>
                    ${s(_,"Button").$$render(r,{title:"Advanced..."},{},{})}</div></div></div>
        <div class="flex flex-row justify-end items-center px-1 pt-2 mt-1">${s(_,"Button").$$render(r,{title:"OK",style:"margin-right:10px;",on_click:d},{},{})}
            ${s(_,"Button").$$render(r,{title:"Cancel",on_click:d},{},{})}</div></div>`})}


`;while(!u);return y(),b});export{ee as default};

import{c as F,a as w,v as y,e as z,j as N}from"../../../../_app/immutable/chunks/index-ff400fad.js";import{W as P}from"../../../../_app/immutable/chunks/Window-e98aeb2f.js";import{h as W,z as b,r as I}from"../../../../_app/immutable/chunks/store-3e4ea696.js";import"../../../../_app/immutable/chunks/system-eda41220.js";import"short-uuid";import"../../../../_app/immutable/chunks/finder-762cc408.js";import"buffer";import{D as q}from"../../../../_app/immutable/chunks/DumbProgress-1d1763f5.js";import"../../../../_app/immutable/chunks/TitleBar-7840ae1a.js";import"lodash";import"idb-keyval";import"../../../../_app/immutable/chunks/index-2945f287.js";import"../../../../_app/immutable/chunks/ProgressBar-89c89d51.js";const O=F((c,t,e,M)=>{let h,u,v;h=w(W,o=>o),v=w(b,o=>u=o);let{id:d}=t,{window:i}=t,{self:r}=t,{parentNode:_}=t,{fs_item:a}=t,{exec_path:s}=t,p=[{name:"Adobe Portable Document Format",mime:"application/pdf",ext:".pdf"}];p=p.map(o=>(o.name=o.name+" ("+o.ext+")",o));let D;async function l(){I.update(o=>o.filter(k=>k!=r)),r.$destroy()}let m={width:document.querySelector("#work-space").offsetWidth,height:document.querySelector("#work-space").offsetHeight},{options:n={title:a==null?"Foxit Reader":a.name,min_width:500,min_height:400,width:Math.min(m.width-20,(m.height-20)*1.6),height:Math.min(m.height-20),icon:"/images/xp/icons/FoxitReader.png",id:d,exec_path:s}}=t;t.id===void 0&&e.id&&d!==void 0&&e.id(d),t.window===void 0&&e.window&&i!==void 0&&e.window(i),t.self===void 0&&e.self&&r!==void 0&&e.self(r),t.parentNode===void 0&&e.parentNode&&_!==void 0&&e.parentNode(_),t.fs_item===void 0&&e.fs_item&&a!==void 0&&e.fs_item(a),t.exec_path===void 0&&e.exec_path&&s!==void 0&&e.exec_path(s),t.destroy===void 0&&e.destroy&&l!==void 0&&e.destroy(l),t.options===void 0&&e.options&&n!==void 0&&e.options(n);let f,x;do f=!0,a&&i&&i.update_title(a.name),x=`${y(P,"Window").$$render(c,{options:n,on_click_close:l,this:i},{this:o=>{i=o,f=!1}},{content:()=>`<div slot="content" class="absolute inset-1 top-0 flex flex-col bg-slate-50">
        
        ${`<div class="absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-slate-500 text-sm p-2 rounded font-mono">${y(q,"DumbProgress").$$render(c,{style:"width:150px;height:15px;"},{},{})}</div>`}
        
        <iframe src="/html/foxit_reader/web/viewer.html" width="100%" height="100%" class="${"inset-0 absolute bg-black "+z("opacity-0",!0)+" "+z(i?.z_index==u?"pointer-events-auto":"pointer-events-none",!0)}"${N("this",D,0)}></iframe></div>`})}


`;while(!f);return h(),v(),x});export{O as default};

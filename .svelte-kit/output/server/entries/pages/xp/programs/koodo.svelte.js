import{c as N,a as x,v as p,e as y,j as W}from"../../../../_app/immutable/chunks/index-ff400fad.js";import{W as I}from"../../../../_app/immutable/chunks/Window-e98aeb2f.js";import{h as K,z as P,r as q}from"../../../../_app/immutable/chunks/store-3e4ea696.js";import"../../../../_app/immutable/chunks/system-eda41220.js";import"short-uuid";import"../../../../_app/immutable/chunks/finder-762cc408.js";import"buffer";import{D as M}from"../../../../_app/immutable/chunks/DumbProgress-1d1763f5.js";import"../../../../_app/immutable/chunks/TitleBar-7840ae1a.js";import"lodash";import"idb-keyval";import"../../../../_app/immutable/chunks/index-2945f287.js";import"../../../../_app/immutable/chunks/ProgressBar-89c89d51.js";const O=N((m,t,e,S)=>{let c,h,u;c=x(K,o=>o),u=x(P,o=>h=o);let{id:r}=t,{window:i}=t,{self:d}=t,{parentNode:v}=t,{fs_item:w}=t,{exec_path:s}=t,z;async function a(){q.update(o=>o.filter(D=>D!=d)),d.$destroy()}let l={width:document.querySelector("#work-space").offsetWidth,height:document.querySelector("#work-space").offsetHeight},{options:n={title:"Koodo Reader",min_width:500,min_height:400,width:Math.min(l.width-20,(l.height-20)*1.6),height:Math.min(l.height-20),icon:"/images/xp/icons/Koodo.png",id:r,exec_path:s}}=t;function k(){console.log("koodo:on_window_focused"),setTimeout(()=>{},500)}t.id===void 0&&e.id&&r!==void 0&&e.id(r),t.window===void 0&&e.window&&i!==void 0&&e.window(i),t.self===void 0&&e.self&&d!==void 0&&e.self(d),t.parentNode===void 0&&e.parentNode&&v!==void 0&&e.parentNode(v),t.fs_item===void 0&&e.fs_item&&w!==void 0&&e.fs_item(w),t.exec_path===void 0&&e.exec_path&&s!==void 0&&e.exec_path(s),t.destroy===void 0&&e.destroy&&a!==void 0&&e.destroy(a),t.options===void 0&&e.options&&n!==void 0&&e.options(n);let f,_;do f=!0,_=`${p(I,"Window").$$render(m,{options:n,on_click_close:a,on_focused:k,this:i},{this:o=>{i=o,f=!1}},{content:()=>`<div slot="content" class="absolute inset-0 flex flex-col bg-slate-800"><div class="absolute inset-0 overflow-auto bg-slate-100 font-sans">${`<div class="absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-slate-500 text-sm p-2 rounded font-mono">${p(M,"DumbProgress").$$render(m,{style:"width:150px;height:15px;"},{},{})}</div>`}

            <iframe src="/html/koodo/index.html" class="${"w-full h-full "+y("opacity-0",!0)+" "+y(i?.z_index==h?"pointer-events-auto":"pointer-events-none",!0)}"${W("this",z,0)}></iframe></div></div>`})}


`;while(!f);return c(),u(),_});export{O as default};

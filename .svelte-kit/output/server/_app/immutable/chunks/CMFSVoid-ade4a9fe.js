import{h as o,d as c,a as m}from"./store-3e4ea696.js";import{S as i,a as r,r as p}from"./system-eda41220.js";import{g as s}from"./index-ff400fad.js";import{p as u,c as n}from"./fs-8c49ae47.js";import"./index-2945f287.js";import"./utils-a62a4de9.js";import"short-uuid";import"idb-keyval";import"./finder-762cc408.js";import"buffer";import"./admin-04ad1b95.js";let T=({type:f,originator:t})=>{let d=[{name:"None",value:i.NONE},{name:"Name",value:i.NAME},{name:"Size",value:i.SIZE},{name:"Date Created",value:i.DATE_CREATED},{name:"Date Modified",value:i.DATE_MODIFIED}],l=[{name:"Ascending",value:r.ASCENDING},{name:"Descending",value:r.DESCENDING}];return{required_width:180+20,required_height:27*6+20,menu:[[{name:"Sort By",items:[...d.map(e=>({...e,check:e.value==s(o)[t.id].sort_option,action:()=>{o.update(a=>(a[t.id].sort_option=e.value,a))}})),null,...l.map(e=>({...e,check:e.value==s(o)[t.id].sort_order,action:()=>{o.update(a=>(a[t.id].sort_order=e.value,a))}}))]},{name:"Refresh",action:()=>{console.log("refresh");let e=document.querySelectorAll(".fs-item");for(let a of e)a.classList.add("animate-blink");setTimeout(()=>{for(let a of e)a.classList.remove("animate-blink")},1e3)}}],[...t.id!=p?[{name:"Paste",disabled:s(c).length==0,action:()=>{u(t.id)}},{name:"Paste Shortcut",disabled:!0}]:[]],[...t.id!=p?[{name:"New",items:[{name:"Folder",icon:"/images/xp/icons/FolderClosed.png",action:()=>{n("folder","","New Folder",t.id)}},{name:"Shortcut",icon:"/images/xp/icons/Shortcutoverlay.png"},{name:"Briefcase",icon:"/images/xp/icons/Briefcase.png"},{name:"Bitmap Image",icon:"/images/xp/icons/Bitmap.png",action:()=>{n("file",".bmp","New Bitmap Image",t.id)}},{name:"Text Document",icon:"/images/xp/icons/TXT.png",action:()=>{n("file",".txt","New Text Document",t.id)}},{name:"Wave Sound",icon:"/images/xp/icons/WMV.png",action:()=>{n("file",".wav","New Sound",t.id)}},{name:"Compressed (zipped) Folder",icon:"/images/xp/icons/Zipfolder.png"}]}]:[]],[{name:"Properties",action:()=>{let e=s(o)[t.id];e.type=="drive"||e.type=="removable_storage"?m.set({path:"./programs/disk_properties.svelte",fs_item:e}):m.set({path:"./programs/properties.svelte",fs_item:e})}}]]}};export{T as make};

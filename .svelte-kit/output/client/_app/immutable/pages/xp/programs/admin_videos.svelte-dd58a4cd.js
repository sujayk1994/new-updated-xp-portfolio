import{S as gt,i as wt,X as Te,s as Et,w as ge,x as we,y as Ee,f as Z,t as le,B as ye,o as yt,l as d,r as y,a as w,m as f,n as h,u as $,h as u,c as E,p as o,b as se,J as l,g as lt,d as st,v as ie,ab as bt,_ as $t,E as pe,Q,O as fe,R as Vt,U as Dt,N as ht}from"../../../chunks/index-7043d62e.js";import{W as At}from"../../../chunks/Window-b5e17ac1.js";import{B as xe}from"../../../chunks/Button-4430907d.js";import{r as xt}from"../../../chunks/store-a53f3f11.js";import"../../../chunks/TitleBar-43a93d4a.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-e9763cd9.js";/* empty css                                                           */import"../../../chunks/index-bc59e2a0.js";import"../../../chunks/system-e72d84b7.js";function _t(r,e,t){const a=r.slice();return a[32]=e[t],a}function kt(r){let e,t;return{c(){e=d("span"),t=y("Add New Video"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Add New Video"),s.forEach(u),this.h()},h(){o(e,"class","px-2")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function mt(r){let e,t,a,s=r[7]?"Edit Video":"Add New Video",p,n,i,c,b,P,A,m,I,O,U,W,H,B,X,L,g,C,T,ee,v,V,S,N,re,Y,z,de,q,M,_,F,ne,k,ke,ue,j,x,G,J,Pe,ae,oe,Ie,$e,te,Je,Ve,Ne,We,Xe,ce,Ge,he,_e,Ke,De,Qe,Ze,me,ve,et,be,Ue,tt,rt;return ve=new xe({props:{on_click:r[12],$$slots:{default:[Pt]},$$scope:{ctx:r}}}),be=new xe({props:{on_click:r[13],$$slots:{default:[It]},$$scope:{ctx:r}}}),{c(){e=d("div"),t=d("div"),a=d("div"),p=y(s),n=w(),i=d("div"),c=d("div"),b=d("label"),P=y("Title *"),A=w(),m=d("input"),I=w(),O=d("div"),U=d("label"),W=y("YouTube URL *"),H=w(),B=d("input"),X=w(),L=d("div"),g=d("div"),C=d("label"),T=y("Channel Name"),ee=w(),v=d("input"),V=w(),S=d("div"),N=d("label"),re=y("Duration"),Y=w(),z=d("input"),de=w(),q=d("div"),M=d("div"),_=d("label"),F=y("Views Text"),ne=w(),k=d("input"),ke=w(),ue=d("div"),j=d("label"),x=y("Display Order"),G=w(),J=d("input"),Pe=w(),ae=d("div"),oe=d("label"),Ie=y("Description"),$e=w(),te=d("textarea"),Je=w(),Ve=d("div"),Ne=d("label"),We=y("Custom Thumbnail URL (optional)"),Xe=w(),ce=d("input"),Ge=w(),he=d("div"),_e=d("input"),Ke=w(),De=d("label"),Qe=y("Visible to visitors"),Ze=w(),me=d("div"),ge(ve.$$.fragment),et=w(),ge(be.$$.fragment),this.h()},l(D){e=f(D,"DIV",{class:!0});var R=h(e);t=f(R,"DIV",{class:!0});var Ae=h(t);a=f(Ae,"DIV",{class:!0});var Le=h(a);p=$(Le,s),Le.forEach(u),n=E(Ae),i=f(Ae,"DIV",{class:!0});var K=h(i);c=f(K,"DIV",{});var Fe=h(c);b=f(Fe,"LABEL",{class:!0});var at=h(b);P=$(at,"Title *"),at.forEach(u),A=E(Fe),m=f(Fe,"INPUT",{type:!0,class:!0,placeholder:!0}),Fe.forEach(u),I=E(K),O=f(K,"DIV",{});var Be=h(O);U=f(Be,"LABEL",{class:!0});var nt=h(U);W=$(nt,"YouTube URL *"),nt.forEach(u),H=E(Be),B=f(Be,"INPUT",{type:!0,class:!0,placeholder:!0}),Be.forEach(u),X=E(K),L=f(K,"DIV",{class:!0});var Ce=h(L);g=f(Ce,"DIV",{});var Se=h(g);C=f(Se,"LABEL",{class:!0});var ot=h(C);T=$(ot,"Channel Name"),ot.forEach(u),ee=E(Se),v=f(Se,"INPUT",{type:!0,class:!0,placeholder:!0}),Se.forEach(u),V=E(Ce),S=f(Ce,"DIV",{});var Oe=h(S);N=f(Oe,"LABEL",{class:!0});var it=h(N);re=$(it,"Duration"),it.forEach(u),Y=E(Oe),z=f(Oe,"INPUT",{type:!0,class:!0,placeholder:!0}),Oe.forEach(u),Ce.forEach(u),de=E(K),q=f(K,"DIV",{class:!0});var je=h(q);M=f(je,"DIV",{});var Re=h(M);_=f(Re,"LABEL",{class:!0});var ut=h(_);F=$(ut,"Views Text"),ut.forEach(u),ne=E(Re),k=f(Re,"INPUT",{type:!0,class:!0,placeholder:!0}),Re.forEach(u),ke=E(je),ue=f(je,"DIV",{});var qe=h(ue);j=f(qe,"LABEL",{class:!0});var ct=h(j);x=$(ct,"Display Order"),ct.forEach(u),G=E(qe),J=f(qe,"INPUT",{type:!0,class:!0,placeholder:!0}),qe.forEach(u),je.forEach(u),Pe=E(K),ae=f(K,"DIV",{});var Me=h(ae);oe=f(Me,"LABEL",{class:!0});var dt=h(oe);Ie=$(dt,"Description"),dt.forEach(u),$e=E(Me),te=f(Me,"TEXTAREA",{class:!0,placeholder:!0}),h(te).forEach(u),Me.forEach(u),Je=E(K),Ve=f(K,"DIV",{});var He=h(Ve);Ne=f(He,"LABEL",{class:!0});var ft=h(Ne);We=$(ft,"Custom Thumbnail URL (optional)"),ft.forEach(u),Xe=E(He),ce=f(He,"INPUT",{type:!0,class:!0,placeholder:!0}),He.forEach(u),Ge=E(K),he=f(K,"DIV",{class:!0});var Ye=h(he);_e=f(Ye,"INPUT",{type:!0,id:!0}),Ke=E(Ye),De=f(Ye,"LABEL",{for:!0,class:!0});var pt=h(De);Qe=$(pt,"Visible to visitors"),pt.forEach(u),Ye.forEach(u),Ze=E(K),me=f(K,"DIV",{class:!0});var ze=h(me);we(ve.$$.fragment,ze),et=E(ze),we(be.$$.fragment,ze),ze.forEach(u),K.forEach(u),Ae.forEach(u),R.forEach(u),this.h()},h(){o(a,"class","bg-gradient-to-r from-[#0054E3] to-[#2E8AEF] text-white px-3 py-2 font-bold text-sm"),o(b,"class","block text-xs font-medium mb-1"),o(m,"type","text"),o(m,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(m,"placeholder","Video title"),o(U,"class","block text-xs font-medium mb-1"),o(B,"type","text"),o(B,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(B,"placeholder","https://youtube.com/watch?v=..."),o(C,"class","block text-xs font-medium mb-1"),o(v,"type","text"),o(v,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(v,"placeholder","Portfolio Channel"),o(N,"class","block text-xs font-medium mb-1"),o(z,"type","text"),o(z,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(z,"placeholder","3:45"),o(L,"class","grid grid-cols-2 gap-3"),o(_,"class","block text-xs font-medium mb-1"),o(k,"type","text"),o(k,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(k,"placeholder","1.2K views"),o(j,"class","block text-xs font-medium mb-1"),o(J,"type","number"),o(J,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(J,"placeholder","0"),o(q,"class","grid grid-cols-2 gap-3"),o(oe,"class","block text-xs font-medium mb-1"),o(te,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm h-16 resize-none"),o(te,"placeholder","Video description..."),o(Ne,"class","block text-xs font-medium mb-1"),o(ce,"type","text"),o(ce,"class","w-full border border-[#7F9DB9] px-2 py-1 text-sm"),o(ce,"placeholder","Leave empty to use YouTube thumbnail"),o(_e,"type","checkbox"),o(_e,"id","isPublic"),o(De,"for","isPublic"),o(De,"class","text-xs"),o(he,"class","flex items-center gap-2"),o(me,"class","flex justify-end gap-2 pt-2 border-t border-[#ACA899]"),o(i,"class","p-4 space-y-3"),o(t,"class","bg-[#ECE9D8] border-2 border-[#0054E3] shadow-lg w-[500px] max-h-[90%] overflow-auto"),o(e,"class","absolute inset-0 bg-black/30 flex items-center justify-center z-50")},m(D,R){se(D,e,R),l(e,t),l(t,a),l(a,p),l(t,n),l(t,i),l(i,c),l(c,b),l(b,P),l(c,A),l(c,m),Q(m,r[8].title),l(i,I),l(i,O),l(O,U),l(U,W),l(O,H),l(O,B),Q(B,r[8].youtubeUrl),l(i,X),l(i,L),l(L,g),l(g,C),l(C,T),l(g,ee),l(g,v),Q(v,r[8].channel),l(L,V),l(L,S),l(S,N),l(N,re),l(S,Y),l(S,z),Q(z,r[8].duration),l(i,de),l(i,q),l(q,M),l(M,_),l(_,F),l(M,ne),l(M,k),Q(k,r[8].views),l(q,ke),l(q,ue),l(ue,j),l(j,x),l(ue,G),l(ue,J),Q(J,r[8].displayOrder),l(i,Pe),l(i,ae),l(ae,oe),l(oe,Ie),l(ae,$e),l(ae,te),Q(te,r[8].description),l(i,Je),l(i,Ve),l(Ve,Ne),l(Ne,We),l(Ve,Xe),l(Ve,ce),Q(ce,r[8].thumbnailUrl),l(i,Ge),l(i,he),l(he,_e),_e.checked=r[8].isPublic,l(he,Ke),l(he,De),l(De,Qe),l(i,Ze),l(i,me),Ee(ve,me,null),l(me,et),Ee(be,me,null),Ue=!0,tt||(rt=[fe(m,"input",r[18]),fe(B,"input",r[19]),fe(v,"input",r[20]),fe(z,"input",r[21]),fe(k,"input",r[22]),fe(J,"input",r[23]),fe(te,"input",r[24]),fe(ce,"input",r[25]),fe(_e,"change",r[26])],tt=!0)},p(D,R){(!Ue||R[0]&128)&&s!==(s=D[7]?"Edit Video":"Add New Video")&&ie(p,s),R[0]&256&&m.value!==D[8].title&&Q(m,D[8].title),R[0]&256&&B.value!==D[8].youtubeUrl&&Q(B,D[8].youtubeUrl),R[0]&256&&v.value!==D[8].channel&&Q(v,D[8].channel),R[0]&256&&z.value!==D[8].duration&&Q(z,D[8].duration),R[0]&256&&k.value!==D[8].views&&Q(k,D[8].views),R[0]&256&&bt(J.value)!==D[8].displayOrder&&Q(J,D[8].displayOrder),R[0]&256&&Q(te,D[8].description),R[0]&256&&ce.value!==D[8].thumbnailUrl&&Q(ce,D[8].thumbnailUrl),R[0]&256&&(_e.checked=D[8].isPublic);const Ae={};R[1]&16&&(Ae.$$scope={dirty:R,ctx:D}),ve.$set(Ae);const Le={};R[0]&128|R[1]&16&&(Le.$$scope={dirty:R,ctx:D}),be.$set(Le)},i(D){Ue||(Z(ve.$$.fragment,D),Z(be.$$.fragment,D),Ue=!0)},o(D){le(ve.$$.fragment,D),le(be.$$.fragment,D),Ue=!1},d(D){D&&u(e),ye(ve),ye(be),tt=!1,Vt(rt)}}}function Pt(r){let e,t;return{c(){e=d("span"),t=y("Cancel"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Cancel"),s.forEach(u),this.h()},h(){o(e,"class","px-3")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function It(r){let e,t=r[7]?"Update":"Add",a,s;return{c(){e=d("span"),a=y(t),s=y(" Video"),this.h()},l(p){e=f(p,"SPAN",{class:!0});var n=h(e);a=$(n,t),s=$(n," Video"),n.forEach(u),this.h()},h(){o(e,"class","px-3")},m(p,n){se(p,e,n),l(e,a),l(e,s)},p(p,n){n[0]&128&&t!==(t=p[7]?"Update":"Add")&&ie(a,t)},d(p){p&&u(e)}}}function Nt(r){let e,t,a=r[3],s=[];for(let n=0;n<a.length;n+=1)s[n]=vt(_t(r,a,n));const p=n=>le(s[n],1,1,()=>{s[n]=null});return{c(){e=d("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=f(n,"DIV",{class:!0});var i=h(e);for(let c=0;c<s.length;c+=1)s[c].l(i);i.forEach(u),this.h()},h(){o(e,"class","space-y-2")},m(n,i){se(n,e,i);for(let c=0;c<s.length;c+=1)s[c].m(e,null);t=!0},p(n,i){if(i[0]&18440){a=n[3];let c;for(c=0;c<a.length;c+=1){const b=_t(n,a,c);s[c]?(s[c].p(b,i),Z(s[c],1)):(s[c]=vt(b),s[c].c(),Z(s[c],1),s[c].m(e,null))}for(lt(),c=a.length;c<s.length;c+=1)p(c);st()}},i(n){if(!t){for(let i=0;i<a.length;i+=1)Z(s[i]);t=!0}},o(n){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)le(s[i]);t=!1},d(n){n&&u(e),Dt(s,n)}}}function Ut(r){let e,t,a,s,p,n;return p=new xe({props:{on_click:r[10],$$slots:{default:[Ct]},$$scope:{ctx:r}}}),{c(){e=d("div"),t=d("span"),a=y("No videos yet. Add your first video!"),s=w(),ge(p.$$.fragment),this.h()},l(i){e=f(i,"DIV",{class:!0});var c=h(e);t=f(c,"SPAN",{class:!0});var b=h(t);a=$(b,"No videos yet. Add your first video!"),b.forEach(u),s=E(c),we(p.$$.fragment,c),c.forEach(u),this.h()},h(){o(t,"class","text-sm text-gray-600"),o(e,"class","flex flex-col items-center justify-center h-full gap-2")},m(i,c){se(i,e,c),l(e,t),l(t,a),l(e,s),Ee(p,e,null),n=!0},p(i,c){const b={};c[1]&16&&(b.$$scope={dirty:c,ctx:i}),p.$set(b)},i(i){n||(Z(p.$$.fragment,i),n=!0)},o(i){le(p.$$.fragment,i),n=!1},d(i){i&&u(e),ye(p)}}}function Lt(r){let e,t,a,s,p,n;return p=new xe({props:{on_click:r[9],$$slots:{default:[St]},$$scope:{ctx:r}}}),{c(){e=d("div"),t=d("span"),a=y(r[5]),s=w(),ge(p.$$.fragment),this.h()},l(i){e=f(i,"DIV",{class:!0});var c=h(e);t=f(c,"SPAN",{class:!0});var b=h(t);a=$(b,r[5]),b.forEach(u),s=E(c),we(p.$$.fragment,c),c.forEach(u),this.h()},h(){o(t,"class","text-sm text-red-600"),o(e,"class","flex flex-col items-center justify-center h-full gap-2")},m(i,c){se(i,e,c),l(e,t),l(t,a),l(e,s),Ee(p,e,null),n=!0},p(i,c){(!n||c[0]&32)&&ie(a,i[5]);const b={};c[1]&16&&(b.$$scope={dirty:c,ctx:i}),p.$set(b)},i(i){n||(Z(p.$$.fragment,i),n=!0)},o(i){le(p.$$.fragment,i),n=!1},d(i){i&&u(e),ye(p)}}}function Tt(r){let e,t,a;return{c(){e=d("div"),t=d("span"),a=y("Loading videos..."),this.h()},l(s){e=f(s,"DIV",{class:!0});var p=h(e);t=f(p,"SPAN",{class:!0});var n=h(t);a=$(n,"Loading videos..."),n.forEach(u),p.forEach(u),this.h()},h(){o(t,"class","text-sm text-gray-600"),o(e,"class","flex items-center justify-center h-full")},m(s,p){se(s,e,p),l(e,t),l(t,a)},p:pe,i:pe,o:pe,d(s){s&&u(e)}}}function Ft(r){let e,t;return{c(){e=d("span"),t=y("Edit"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Edit"),s.forEach(u),this.h()},h(){o(e,"class","px-2 text-xs")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function Bt(r){let e,t;return{c(){e=d("span"),t=y("Delete"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Delete"),s.forEach(u),this.h()},h(){o(e,"class","px-2 text-xs")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function vt(r){let e,t,a,s,p,n,i,c=r[32].title+"",b,P,A,m=r[32].channel+"",I,O,U,W=r[32].views+"",H,B,X=(r[32].duration||"No duration")+"",L,g,C,T,ee=r[32].is_public?"Public":"Hidden",v,V,S,N,re,Y=(r[32].display_order||0)+"",z,de,q,M,_,F,ne,k;function ke(){return r[27](r[32])}M=new xe({props:{on_click:ke,$$slots:{default:[Ft]},$$scope:{ctx:r}}});function ue(){return r[28](r[32])}return F=new xe({props:{on_click:ue,$$slots:{default:[Bt]},$$scope:{ctx:r}}}),{c(){e=d("div"),t=d("img"),p=w(),n=d("div"),i=d("h3"),b=y(c),P=w(),A=d("p"),I=y(m),O=w(),U=d("p"),H=y(W),B=y(" \u2022 "),L=y(X),g=w(),C=d("div"),T=d("span"),v=y(ee),S=w(),N=d("span"),re=y("Order: "),z=y(Y),de=w(),q=d("div"),ge(M.$$.fragment),_=w(),ge(F.$$.fragment),ne=w(),this.h()},l(j){e=f(j,"DIV",{class:!0});var x=h(e);t=f(x,"IMG",{src:!0,alt:!0,class:!0}),p=E(x),n=f(x,"DIV",{class:!0});var G=h(n);i=f(G,"H3",{class:!0});var J=h(i);b=$(J,c),J.forEach(u),P=E(G),A=f(G,"P",{class:!0});var Pe=h(A);I=$(Pe,m),Pe.forEach(u),O=E(G),U=f(G,"P",{class:!0});var ae=h(U);H=$(ae,W),B=$(ae," \u2022 "),L=$(ae,X),ae.forEach(u),g=E(G),C=f(G,"DIV",{class:!0});var oe=h(C);T=f(oe,"SPAN",{class:!0});var Ie=h(T);v=$(Ie,ee),Ie.forEach(u),S=E(oe),N=f(oe,"SPAN",{class:!0});var $e=h(N);re=$($e,"Order: "),z=$($e,Y),$e.forEach(u),oe.forEach(u),G.forEach(u),de=E(x),q=f(x,"DIV",{class:!0});var te=h(q);we(M.$$.fragment,te),_=E(te),we(F.$$.fragment,te),te.forEach(u),ne=E(x),x.forEach(u),this.h()},h(){ht(t.src,a=r[32].thumbnail_url||`https://img.youtube.com/vi/${r[32].youtube_id}/mqdefault.jpg`)||o(t,"src",a),o(t,"alt",s=r[32].title),o(t,"class","w-32 h-20 object-cover bg-gray-200"),o(i,"class","font-medium text-sm truncate"),o(A,"class","text-xs text-gray-600"),o(U,"class","text-xs text-gray-500"),o(T,"class",V="text-xs px-1.5 py-0.5 rounded "+(r[32].is_public?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600")),o(N,"class","text-xs text-gray-400"),o(C,"class","flex items-center gap-2 mt-1"),o(n,"class","flex-1 min-w-0"),o(q,"class","flex flex-col gap-1"),o(e,"class","bg-white border border-[#ACA899] p-3 flex gap-3 items-start")},m(j,x){se(j,e,x),l(e,t),l(e,p),l(e,n),l(n,i),l(i,b),l(n,P),l(n,A),l(A,I),l(n,O),l(n,U),l(U,H),l(U,B),l(U,L),l(n,g),l(n,C),l(C,T),l(T,v),l(C,S),l(C,N),l(N,re),l(N,z),l(e,de),l(e,q),Ee(M,q,null),l(q,_),Ee(F,q,null),l(e,ne),k=!0},p(j,x){r=j,(!k||x[0]&8&&!ht(t.src,a=r[32].thumbnail_url||`https://img.youtube.com/vi/${r[32].youtube_id}/mqdefault.jpg`))&&o(t,"src",a),(!k||x[0]&8&&s!==(s=r[32].title))&&o(t,"alt",s),(!k||x[0]&8)&&c!==(c=r[32].title+"")&&ie(b,c),(!k||x[0]&8)&&m!==(m=r[32].channel+"")&&ie(I,m),(!k||x[0]&8)&&W!==(W=r[32].views+"")&&ie(H,W),(!k||x[0]&8)&&X!==(X=(r[32].duration||"No duration")+"")&&ie(L,X),(!k||x[0]&8)&&ee!==(ee=r[32].is_public?"Public":"Hidden")&&ie(v,ee),(!k||x[0]&8&&V!==(V="text-xs px-1.5 py-0.5 rounded "+(r[32].is_public?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600")))&&o(T,"class",V),(!k||x[0]&8)&&Y!==(Y=(r[32].display_order||0)+"")&&ie(z,Y);const G={};x[0]&8&&(G.on_click=ke),x[1]&16&&(G.$$scope={dirty:x,ctx:r}),M.$set(G);const J={};x[0]&8&&(J.on_click=ue),x[1]&16&&(J.$$scope={dirty:x,ctx:r}),F.$set(J)},i(j){k||(Z(M.$$.fragment,j),Z(F.$$.fragment,j),k=!0)},o(j){le(M.$$.fragment,j),le(F.$$.fragment,j),k=!1},d(j){j&&u(e),ye(M),ye(F)}}}function Ct(r){let e,t;return{c(){e=d("span"),t=y("Add Video"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Add Video"),s.forEach(u),this.h()},h(){o(e,"class","px-2")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function St(r){let e,t;return{c(){e=d("span"),t=y("Retry"),this.h()},l(a){e=f(a,"SPAN",{class:!0});var s=h(e);t=$(s,"Retry"),s.forEach(u),this.h()},h(){o(e,"class","px-2")},m(a,s){se(a,e,s),l(e,t)},p:pe,d(a){a&&u(e)}}}function Ot(r){let e,t,a,s,p,n,i,c,b,P,A,m,I,O=r[3].length+"",U,W,H=r[3].length!==1?"s":"",B,X,L;n=new xe({props:{on_click:r[10],$$slots:{default:[kt]},$$scope:{ctx:r}}});let g=r[6]&&mt(r);const C=[Tt,Lt,Ut,Nt],T=[];function ee(v,V){return v[4]?0:v[5]?1:v[3].length===0?2:3}return P=ee(r),A=T[P]=C[P](r),{c(){e=d("div"),t=d("div"),a=d("h2"),s=y("Manage Portfolio Videos"),p=w(),ge(n.$$.fragment),i=w(),g&&g.c(),c=w(),b=d("div"),A.c(),m=w(),I=d("div"),U=y(O),W=y(" video"),B=y(H),X=y(" in your portfolio"),this.h()},l(v){e=f(v,"DIV",{slot:!0,class:!0});var V=h(e);t=f(V,"DIV",{class:!0});var S=h(t);a=f(S,"H2",{class:!0});var N=h(a);s=$(N,"Manage Portfolio Videos"),N.forEach(u),p=E(S),we(n.$$.fragment,S),S.forEach(u),i=E(V),g&&g.l(V),c=E(V),b=f(V,"DIV",{class:!0});var re=h(b);A.l(re),re.forEach(u),m=E(V),I=f(V,"DIV",{class:!0});var Y=h(I);U=$(Y,O),W=$(Y," video"),B=$(Y,H),X=$(Y," in your portfolio"),Y.forEach(u),V.forEach(u),this.h()},h(){o(a,"class","text-sm font-bold text-[#003399]"),o(t,"class","p-3 border-b border-[#ACA899] bg-gradient-to-b from-[#FAFAFA] to-[#ECE9D8] flex justify-between items-center"),o(b,"class","flex-1 overflow-auto p-3"),o(I,"class","p-2 border-t border-[#ACA899] bg-[#ECE9D8] text-xs text-gray-600"),o(e,"slot","content"),o(e,"class","absolute inset-1 top-0 flex flex-col bg-[#ECE9D8] overflow-hidden")},m(v,V){se(v,e,V),l(e,t),l(t,a),l(a,s),l(t,p),Ee(n,t,null),l(e,i),g&&g.m(e,null),l(e,c),l(e,b),T[P].m(b,null),l(e,m),l(e,I),l(I,U),l(I,W),l(I,B),l(I,X),L=!0},p(v,V){const S={};V[1]&16&&(S.$$scope={dirty:V,ctx:v}),n.$set(S),v[6]?g?(g.p(v,V),V[0]&64&&Z(g,1)):(g=mt(v),g.c(),Z(g,1),g.m(e,c)):g&&(lt(),le(g,1,1,()=>{g=null}),st());let N=P;P=ee(v),P===N?T[P].p(v,V):(lt(),le(T[N],1,1,()=>{T[N]=null}),st(),A=T[P],A?A.p(v,V):(A=T[P]=C[P](v),A.c()),Z(A,1),A.m(b,null)),(!L||V[0]&8)&&O!==(O=v[3].length+"")&&ie(U,O),(!L||V[0]&8)&&H!==(H=v[3].length!==1?"s":"")&&ie(B,H)},i(v){L||(Z(n.$$.fragment,v),Z(g),Z(A),L=!0)},o(v){le(n.$$.fragment,v),le(g),le(A),L=!1},d(v){v&&u(e),ye(n),g&&g.d(),T[P].d()}}}function jt(r){let e,t,a={options:r[2],on_click_close:r[1],$$slots:{content:[Ot]},$$scope:{ctx:r}};return e=new At({props:a}),r[29](e),{c(){ge(e.$$.fragment)},l(s){we(e.$$.fragment,s)},m(s,p){Ee(e,s,p),t=!0},p(s,p){const n={};p[0]&4&&(n.options=s[2]),p[0]&504|p[1]&16&&(n.$$scope={dirty:p,ctx:s}),e.$set(n)},i(s){t||(Z(e.$$.fragment,s),t=!0)},o(s){le(e.$$.fragment,s),t=!1},d(s){r[29](null),ye(e,s)}}}function Rt(r,e,t){let{id:a}=e,{window:s}=e,{self:p}=e,{exec_path:n}=e,i=[],c=!0,b=null,P=!1,A=null,m={title:"",youtubeUrl:"",channel:"Portfolio Channel",description:"",duration:"",views:"0 views",thumbnailUrl:"",isPublic:!0,displayOrder:0};yt(async()=>{await I()});async function I(){t(4,c=!0),t(5,b=null);try{const F=await(await fetch("/api/admin/videos")).json();F.success?t(3,i=F.videos):t(5,b=F.error||"Failed to load videos")}catch{t(5,b="Failed to connect to server")}t(4,c=!1)}function O(){t(8,m={title:"",youtubeUrl:"",channel:"Portfolio Channel",description:"",duration:"",views:"0 views",thumbnailUrl:"",isPublic:!0,displayOrder:0}),t(7,A=null)}function U(){O(),t(6,P=!0)}function W(_){t(7,A=_),t(8,m={title:_.title,youtubeUrl:`https://youtube.com/watch?v=${_.youtube_id}`,channel:_.channel,description:_.description||"",duration:_.duration||"",views:_.views||"0 views",thumbnailUrl:_.thumbnail_url||"",isPublic:_.is_public,displayOrder:_.display_order||0}),t(6,P=!0)}function H(){t(6,P=!1),O()}async function B(){if(!m.title||!m.youtubeUrl){alert("Title and YouTube URL are required");return}try{const _=A?"PUT":"POST",F=A?{...m,id:A.id}:m,k=await(await fetch("/api/admin/videos",{method:_,headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();k.success?(await I(),H()):alert(k.error||"Failed to save video")}catch{alert("Failed to save video")}}async function X(_){if(!!confirm(`Are you sure you want to delete "${_.title}"?`))try{const ne=await(await fetch("/api/admin/videos",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:_.id})})).json();ne.success?await I():alert(ne.error||"Failed to delete video")}catch{alert("Failed to delete video")}}function L(){xt.update(_=>_.filter(F=>F!=p)),p.$destroy()}let g={width:document.querySelector("#work-space")?.offsetWidth||800,height:document.querySelector("#work-space")?.offsetHeight||600},{options:C={title:"Video Manager - Admin Panel",min_width:600,min_height:400,width:Math.min(g.width-40,900),height:Math.min(g.height-40,600),icon:"/images/xp/icons/InternetExplorer6.png",id:a,exec_path:n}}=e;function T(){m.title=this.value,t(8,m)}function ee(){m.youtubeUrl=this.value,t(8,m)}function v(){m.channel=this.value,t(8,m)}function V(){m.duration=this.value,t(8,m)}function S(){m.views=this.value,t(8,m)}function N(){m.displayOrder=bt(this.value),t(8,m)}function re(){m.description=this.value,t(8,m)}function Y(){m.thumbnailUrl=this.value,t(8,m)}function z(){m.isPublic=this.checked,t(8,m)}const de=_=>W(_),q=_=>X(_);function M(_){$t[_?"unshift":"push"](()=>{s=_,t(0,s)})}return r.$$set=_=>{"id"in _&&t(15,a=_.id),"window"in _&&t(0,s=_.window),"self"in _&&t(16,p=_.self),"exec_path"in _&&t(17,n=_.exec_path),"options"in _&&t(2,C=_.options)},[s,L,C,i,c,b,P,A,m,I,U,W,H,B,X,a,p,n,T,ee,v,V,S,N,re,Y,z,de,q,M]}class el extends gt{constructor(e){super(),wt(this,e,Rt,jt,Et,{id:15,window:0,self:16,exec_path:17,destroy:1,options:2},null,[-1,-1])}get id(){return this.$$.ctx[15]}set id(e){this.$$set({id:e}),Te()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),Te()}get self(){return this.$$.ctx[16]}set self(e){this.$$set({self:e}),Te()}get exec_path(){return this.$$.ctx[17]}set exec_path(e){this.$$set({exec_path:e}),Te()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),Te()}}export{el as default};

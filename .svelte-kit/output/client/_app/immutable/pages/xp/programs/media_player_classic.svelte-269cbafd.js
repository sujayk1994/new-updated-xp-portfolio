import{_ as St}from"../../../chunks/preload-helper-c28b9807.js";import{S as Pt,i as At,X as ye,s as Ht,w as et,x as tt,y as lt,O as B,f as st,t as nt,B as rt,P as xe,o as jt,D as Wt,W as qt,l as k,a as R,K as z,m as E,n as v,h,c as C,M as O,p as s,q as qe,b as J,J as f,a0 as pe,R as ot,_ as ze,N as Re,a3 as zt,E as Ze,r as Ve,u as Ne,e as Lt,ad as Ot,v as $e}from"../../../chunks/index-7043d62e.js";import{W as Gt}from"../../../chunks/Window-b5e17ac1.js";import{R as It}from"../../../chunks/RangeSlider-4cdba2d0.js";import{h as Kt,z as Jt,s as Xt,r as Qt}from"../../../chunks/store-a53f3f11.js";import{m as Oe,c as Yt}from"../../../chunks/utils-1f7a3290.js";import{d as Mt}from"../../../chunks/fs-359b7395.js";import{t as me}from"../../../chunks/tooltip-f551ec3c.js";import{g as Zt}from"../../../chunks/index-e9763cd9.js";import{c as Ye,g as xt}from"../../../chunks/_commonjsHelpers-cea7ac1a.js";import{_ as Dt}from"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/TitleBar-43a93d4a.js";import"../../../chunks/index-bc59e2a0.js";import"../../../chunks/system-e72d84b7.js";import"../../../chunks/finder-63196e92.js";import"../../../chunks/admin-093cca4c.js";var Rt={};(function(l){var e=Ye&&Ye.__awaiter||function(_,b,a,m){function o(n){return n instanceof a?n:new a(function(w){w(n)})}return new(a||(a=Promise))(function(n,w){function U(V){try{g(m.next(V))}catch(N){w(N)}}function T(V){try{g(m.throw(V))}catch(N){w(N)}}function g(V){V.done?n(V.value):o(V.value).then(U,T)}g((m=m.apply(_,b||[])).next())})},t=Ye&&Ye.__generator||function(_,b){var a={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},m,o,n,w;return w={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function U(g){return function(V){return T([g,V])}}function T(g){if(m)throw new TypeError("Generator is already executing.");for(;a;)try{if(m=1,o&&(n=g[0]&2?o.return:g[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,g[1])).done)return n;switch(o=0,n&&(g=[g[0]&2,n.value]),g[0]){case 0:case 1:n=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,o=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!n||g[1]>n[0]&&g[1]<n[3])){a.label=g[1];break}if(g[0]===6&&a.label<n[1]){a.label=n[1],n=g;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(g);break}n[2]&&a.ops.pop(),a.trys.pop();continue}g=b.call(_,a)}catch(V){g=[6,V],o=0}finally{m=n=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(l,"__esModule",{value:!0}),l.moduleName=void 0,l.moduleName="toWebVTT";var i=function(_,b){return new Promise(function(a,m){var o=new FileReader,n=function(U){var T=U.target.result;o.removeEventListener("loadend",n),a(b!=="string"?new Uint8Array(T):T)},w=function(){o.removeEventListener("error",w),m(new Error(l.moduleName+": Error while reading the Blob object"))};o.addEventListener("loadend",n),o.addEventListener("error",w),b!=="string"?o.readAsArrayBuffer(_):o.readAsText(_)})},u=function(_){return URL.createObjectURL(new Blob([_],{type:"text/vtt"}))},p=function(_){return _.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat(`\r
\r
`)},c=function(_){return e(void 0,void 0,void 0,function(){var b,a,m,m,o;return t(this,function(n){switch(n.label){case 0:if(!FileReader)throw new Error(l.moduleName+": No FileReader constructor found");if(!TextDecoder)throw new Error(l.moduleName+": No TextDecoder constructor found");if(!(_ instanceof Blob))throw new Error(l.moduleName+": Expecting resource to be a Blob but something else found.");a=`WEBVTT FILE\r
\r
`,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,i(_,"string")];case 2:return m=n.sent(),b=a.concat(p(m)),[3,5];case 3:return n.sent(),[4,i(_,"buffer")];case 4:return m=n.sent(),o=new TextDecoder("utf-8").decode(m),b=a.concat(p(o)),[3,5];case 5:return[2,Promise.resolve(u(b))]}})})};l.default=c})(Rt);const $t=xt(Rt),{isNaN:Ce,window:el}=qt;function tl(l){let e,t,i,u,p,c=!1,_,b=!0,a,m;function o(){cancelAnimationFrame(_),t.paused||(_=Ot(o),c=!0),l[42].call(t)}return{c(){e=k("div"),t=k("video"),i=k("track"),this.h()},l(n){e=E(n,"DIV",{class:!0});var w=v(e);t=E(w,"VIDEO",{class:!0,src:!0});var U=v(t);i=E(U,"TRACK",{kind:!0,src:!0}),U.forEach(h),w.forEach(h),this.h()},h(){s(i,"kind","subtitles"),Re(i.src,u=l[11])||s(i,"src",u),i.default=!0,s(t,"class","w-full h-full"),Re(t.src,p="")||s(t,"src",p),t.loop=l[10],l[8]===void 0&&zt(()=>l[43].call(t)),s(e,"class","grow overflow-hidden bg-black")},m(n,w){J(n,e,w),f(e,t),f(t,i),l[41](t),Ce(l[16])||(t.volume=l[16]),a||(m=[B(t,"timeupdate",o),B(t,"durationchange",l[43]),B(t,"play",l[44]),B(t,"pause",l[44]),B(t,"volumechange",l[45])],a=!0)},p(n,w){w[0]&2048&&!Re(i.src,u=n[11])&&s(i,"src",u),w[0]&1024&&(t.loop=n[10]),!c&&w[0]&128&&!Ce(n[7])&&(t.currentTime=n[7]),c=!1,w[0]&512&&b!==(b=n[9])&&t[b?"pause":"play"](),w[0]&65536&&!Ce(n[16])&&(t.volume=n[16])},d(n){n&&h(e),l[41](null),a=!1,ot(m)}}}function ll(l){let e,t,i=!1,u,p=!0,c,_;function b(){cancelAnimationFrame(u),e.paused||(u=Ot(b),i=!0),l[37].call(e)}return{c(){e=k("audio"),this.h()},l(a){e=E(a,"AUDIO",{src:!0}),v(e).forEach(h),this.h()},h(){Re(e.src,t="")||s(e,"src",t),e.loop=l[10],l[8]===void 0&&zt(()=>l[38].call(e))},m(a,m){J(a,e,m),l[36](e),Ce(l[16])||(e.volume=l[16]),c||(_=[B(e,"timeupdate",b),B(e,"durationchange",l[38]),B(e,"play",l[39]),B(e,"pause",l[39]),B(e,"volumechange",l[40])],c=!0)},p(a,m){m[0]&1024&&(e.loop=a[10]),!i&&m[0]&128&&!Ce(a[7])&&(e.currentTime=a[7]),i=!1,m[0]&512&&p!==(p=a[9])&&e[p?"pause":"play"](),m[0]&65536&&!Ce(a[16])&&(e.volume=a[16])},d(a){a&&h(e),l[36](null),c=!1,ot(_)}}}function sl(l){let e,t,i;return{c(){e=k("div"),t=k("iframe"),this.h()},l(u){e=E(u,"DIV",{class:!0});var p=v(e);t=E(p,"IFRAME",{class:!0,src:!0}),v(t).forEach(h),p.forEach(h),this.h()},h(){s(t,"class","w-full h-full pointer-events-none"),Re(t.src,i="/html/visualizers/"+Yt(1,12)+".html")||s(t,"src",i),s(e,"class","grow bg-black w-full")},m(u,p){J(u,e,p),f(e,t)},p:Ze,d(u){u&&h(e)}}}function nl(l){let e,t,i,u,p,c,_,b;return{c(){e=k("div"),t=k("img"),u=R(),p=k("button"),c=Ve("Open files..."),this.h()},l(a){e=E(a,"DIV",{class:!0});var m=v(e);t=E(m,"IMG",{src:!0,class:!0,style:!0,width:!0,height:!0,alt:!0}),u=C(m),p=E(m,"BUTTON",{class:!0});var o=v(p);c=Ne(o,"Open files..."),o.forEach(h),m.forEach(h),this.h()},h(){Re(t.src,i="/images/xp/icons/MPC.png")||s(t,"src",i),s(t,"class","invert opacity-30"),s(t,"style",""),s(t,"width","150px"),s(t,"height","auto"),s(t,"alt",""),s(p,"class","outline-none bg-slate-900 hover:bg-slate-800 border-2 border-slate-800 rounded mt-8 text-slate-100 text-sm py-2 px-4"),s(e,"class","grow bg-black w-full flex flex-col items-center justify-center")},m(a,m){J(a,e,m),f(e,t),f(e,u),f(e,p),f(p,c),_||(b=B(p,"click",l[17]),_=!0)},p:Ze,d(a){a&&h(e),_=!1,b()}}}function rl(l){let e,t;return{c(){e=z("svg"),t=z("path"),this.h()},l(i){e=O(i,"svg",{class:!0,xmlns:!0,viewBox:!0});var u=v(e);t=O(u,"path",{d:!0}),v(t).forEach(h),u.forEach(h),this.h()},h(){s(t,"d","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"),s(e,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"viewBox","0 0 320 512")},m(i,u){J(i,e,u),f(e,t)},d(i){i&&h(e)}}}function ol(l){let e,t;return{c(){e=z("svg"),t=z("path"),this.h()},l(i){e=O(i,"svg",{class:!0,xmlns:!0,viewBox:!0});var u=v(e);t=O(u,"path",{d:!0}),v(t).forEach(h),u.forEach(h),this.h()},h(){s(t,"d","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"),s(e,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"viewBox","0 0 384 512")},m(i,u){J(i,e,u),f(e,t)},d(i){i&&h(e)}}}function il(l){let e,t;return{c(){e=k("div"),t=Ve("Closed"),this.h()},l(i){e=E(i,"DIV",{class:!0});var u=v(e);t=Ne(u,"Closed"),u.forEach(h),this.h()},h(){s(e,"class","text-[12px] text-slate-50")},m(i,u){J(i,e,u),f(e,t)},p:Ze,d(i){i&&h(e)}}}function al(l){let e,t;function i(c,_){return _[0]&256&&(e=null),e==null&&(e=!!isNaN(c[8])),e?cl:ul}let u=i(l,[-1,-1]),p=u(l);return{c(){p.c(),t=Lt()},l(c){p.l(c),t=Lt()},m(c,_){p.m(c,_),J(c,t,_)},p(c,_){u===(u=i(c,_))&&p?p.p(c,_):(p.d(1),p=u(c),p&&(p.c(),p.m(t.parentNode,t)))},d(c){p.d(c),c&&h(t)}}}function ul(l){let e,t=l[9]==null||l[9]?"Paused":"Playing",i,u,p,c=Oe(l[7])+"",_,b,a=Oe(l[8])+"",m;return{c(){e=k("div"),i=Ve(t),u=R(),p=k("div"),_=Ve(c),b=Ve("/"),m=Ve(a),this.h()},l(o){e=E(o,"DIV",{class:!0});var n=v(e);i=Ne(n,t),n.forEach(h),u=C(o),p=E(o,"DIV",{class:!0});var w=v(p);_=Ne(w,c),b=Ne(w,"/"),m=Ne(w,a),w.forEach(h),this.h()},h(){s(e,"class","text-[12px] text-slate-50"),s(p,"class","text-[12px] text-slate-50")},m(o,n){J(o,e,n),f(e,i),J(o,u,n),J(o,p,n),f(p,_),f(p,b),f(p,m)},p(o,n){n[0]&512&&t!==(t=o[9]==null||o[9]?"Paused":"Playing")&&$e(i,t),n[0]&128&&c!==(c=Oe(o[7])+"")&&$e(_,c),n[0]&256&&a!==(a=Oe(o[8])+"")&&$e(m,a)},d(o){o&&h(e),o&&h(u),o&&h(p)}}}function cl(l){let e,t;return{c(){e=k("div"),t=Ve("Buffering..."),this.h()},l(i){e=E(i,"DIV",{class:!0});var u=v(e);t=Ne(u,"Buffering..."),u.forEach(h),this.h()},h(){s(e,"class","text-[12px] text-slate-50")},m(i,u){J(i,e,u),f(e,t)},p:Ze,d(i){i&&h(e)}}}function fl(l){let e,t,i,u,p,c,_,b,a,m,o,n,w,U,T,g,V,N,X,M,L,oe,fe,ve,F,Q,le,Y,Te,W,se,de,be,Ue,q,x,he,Be,Fe,G,$,ge,Le,we,Se,j,K,ke,Ie,Pe,ne,Ee,Ae,re,Z,He,_e,ee,je,ie,Me,S,r,D;function ae(d,y){if(d[5]=="audio")return ll;if(d[5]=="video")return tl}let I=ae(l),P=I&&I(l);function it(d,y){if(d[6]==null)return nl;if(d[6]!=null&&d[5]=="audio")return sl}let De=it(l),A=De&&De(l),Ct={max:parseInt(l[8]),values:[parseInt(l[7])],id:"wmp-slider",springValues:{stiffness:.3,damping:1}};b=new It({props:Ct}),l[46](b),b.$on("change",l[20]);function at(d,y){return d[6]==null||d[9]==null||d[9]?ol:rl}let Ge=at(l),ue=Ge(l);ee=new It({props:{max:1,step:.01,values:[l[3]],springValues:{stiffness:.9,damping:1},id:"wmp-volume-slider"}}),ee.$on("change",l[26]);function ut(d,y){return d[6]!=null?al:il}let Ke=ut(l),te=Ke(l);return{c(){e=k("div"),t=k("p"),i=R(),P&&P.c(),u=R(),A&&A.c(),p=R(),c=k("div"),_=k("div"),et(b.$$.fragment),a=R(),m=k("div"),o=k("div"),n=k("button"),ue.c(),U=R(),T=k("button"),g=z("svg"),V=z("path"),X=R(),M=k("button"),L=z("svg"),oe=z("path"),ve=R(),F=k("button"),Q=z("svg"),le=z("path"),Te=R(),W=k("button"),se=z("svg"),de=z("path"),Ue=R(),q=k("button"),x=z("svg"),he=z("path"),Fe=R(),G=k("button"),$=z("svg"),ge=z("path"),Se=R(),j=k("button"),K=z("svg"),ke=z("path"),Pe=R(),ne=k("div"),Ee=k("div"),Ae=R(),re=k("div"),Z=k("div"),He=R(),_e=k("div"),et(ee.$$.fragment),je=R(),ie=k("div"),te.c(),this.h()},l(d){e=E(d,"DIV",{slot:!0,class:!0});var y=v(e);t=E(y,"P",{class:!0});var We=v(t);We.forEach(h),i=C(y),P&&P.l(y),u=C(y),A&&A.l(y),p=C(y),c=E(y,"DIV",{class:!0});var ce=v(c);_=E(ce,"DIV",{class:!0});var ct=v(_);tt(b.$$.fragment,ct),ct.forEach(h),a=C(ce),m=E(ce,"DIV",{class:!0});var Je=v(m);o=E(Je,"DIV",{class:!0});var H=v(o);n=E(H,"BUTTON",{tooltip:!0,class:!0});var ft=v(n);ue.l(ft),ft.forEach(h),U=C(H),T=E(H,"BUTTON",{tooltip:!0,class:!0});var dt=v(T);g=O(dt,"svg",{class:!0,xmlns:!0,viewBox:!0});var ht=v(g);V=O(ht,"path",{d:!0}),v(V).forEach(h),ht.forEach(h),dt.forEach(h),X=C(H),M=E(H,"BUTTON",{tooltip:!0,class:!0});var _t=v(M);L=O(_t,"svg",{class:!0,xmlns:!0,viewBox:!0});var pt=v(L);oe=O(pt,"path",{d:!0}),v(oe).forEach(h),pt.forEach(h),_t.forEach(h),ve=C(H),F=E(H,"BUTTON",{tooltip:!0,class:!0});var mt=v(F);Q=O(mt,"svg",{class:!0,xmlns:!0,viewBox:!0});var vt=v(Q);le=O(vt,"path",{d:!0}),v(le).forEach(h),vt.forEach(h),mt.forEach(h),Te=C(H),W=E(H,"BUTTON",{tooltip:!0,class:!0});var bt=v(W);se=O(bt,"svg",{class:!0,xmlns:!0,viewBox:!0});var gt=v(se);de=O(gt,"path",{d:!0}),v(de).forEach(h),gt.forEach(h),bt.forEach(h),Ue=C(H),q=E(H,"BUTTON",{tooltip:!0,class:!0});var wt=v(q);x=O(wt,"svg",{class:!0,xmlns:!0,viewBox:!0});var kt=v(x);he=O(kt,"path",{d:!0}),v(he).forEach(h),kt.forEach(h),wt.forEach(h),Fe=C(H),G=E(H,"BUTTON",{tooltip:!0,class:!0});var Et=v(G);$=O(Et,"svg",{class:!0,xmlns:!0,viewBox:!0});var yt=v($);ge=O(yt,"path",{d:!0}),v(ge).forEach(h),yt.forEach(h),Et.forEach(h),Se=C(H),j=E(H,"BUTTON",{tooltip:!0,class:!0});var Vt=v(j);K=O(Vt,"svg",{class:!0,xmlns:!0,viewBox:!0});var Nt=v(K);ke=O(Nt,"path",{d:!0}),v(ke).forEach(h),Nt.forEach(h),Vt.forEach(h),H.forEach(h),Pe=C(Je),ne=E(Je,"DIV",{class:!0});var Xe=v(ne);Ee=E(Xe,"DIV",{class:!0});var Ut=v(Ee);Ut.forEach(h),Ae=C(Xe),re=E(Xe,"DIV",{class:!0});var Qe=v(re);Z=E(Qe,"DIV",{class:!0,style:!0});var Ft=v(Z);Ft.forEach(h),He=C(Qe),_e=E(Qe,"DIV",{class:!0});var Tt=v(_e);tt(ee.$$.fragment,Tt),Tt.forEach(h),Qe.forEach(h),Xe.forEach(h),Je.forEach(h),je=C(ce),ie=E(ce,"DIV",{class:!0});var Bt=v(ie);te.l(Bt),Bt.forEach(h),ce.forEach(h),y.forEach(h),this.h()},h(){s(t,"class","z-10 absolute top-2 left-1/2 -translate-x-1/2 p-2 text-center hidden rounded bg-black/70 text-white font-sans"),s(_,"class","shrink-0 w-full"),s(n,"tooltip","Play/Pause [Space]"),n.disabled=w=l[6]==null||isNaN(l[8]),s(n,"class","w-5 h-5 p-1 m-1 group outline-none"),s(V,"d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"),s(g,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(g,"xmlns","http://www.w3.org/2000/svg"),s(g,"viewBox","0 0 384 512"),s(T,"tooltip","Close"),T.disabled=N=l[6]==null||l[9]==null||l[9]||isNaN(l[8]),s(T,"class","w-5 h-5 p-1 m-1 group outline-none"),s(oe,"d","M493.6 445c-11.2 5.3-24.5 3.6-34.1-4.4L288 297.7V416c0 12.4-7.2 23.7-18.4 29s-24.5 3.6-34.1-4.4L64 297.7V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V96C0 78.3 14.3 64 32 64s32 14.3 32 32V214.3L235.5 71.4c9.5-7.9 22.8-9.7 34.1-4.4S288 83.6 288 96V214.3L459.5 71.4c9.5-7.9 22.8-9.7 34.1-4.4S512 83.6 512 96V416c0 12.4-7.2 23.7-18.4 29z"),s(L,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(L,"xmlns","http://www.w3.org/2000/svg"),s(L,"viewBox","0 0 512 512"),s(M,"tooltip","Rewind 15s"),M.disabled=fe=l[6]==null||isNaN(l[8]),s(M,"class","w-5 h-5 p-1 m-1 group outline-none"),s(le,"d","M459.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4L288 214.3V256v41.7L459.5 440.6zM256 352V256 128 96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160C4.2 237.5 0 246.5 0 256s4.2 18.5 11.5 24.6l192 160c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V352z"),s(Q,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(Q,"xmlns","http://www.w3.org/2000/svg"),s(Q,"viewBox","0 0 512 512"),s(F,"tooltip","Rewind 5s [\u2190]"),F.disabled=Y=l[6]==null||isNaN(l[8]),s(F,"class","w-5 h-5 p-1 m-1 group outline-none"),s(de,"d","M52.5 440.6c-9.5 7.9-22.8 9.7-34.1 4.4S0 428.4 0 416V96C0 83.6 7.2 72.3 18.4 67s24.5-3.6 34.1 4.4L224 214.3V256v41.7L52.5 440.6zM256 352V256 128 96c0-12.4 7.2-23.7 18.4-29s24.5-3.6 34.1 4.4l192 160c7.3 6.1 11.5 15.1 11.5 24.6s-4.2 18.5-11.5 24.6l-192 160c-9.5 7.9-22.8 9.7-34.1 4.4s-18.4-16.6-18.4-29V352z"),s(se,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(se,"xmlns","http://www.w3.org/2000/svg"),s(se,"viewBox","0 0 512 512"),s(W,"tooltip","Forward 5s [\u2192]"),W.disabled=be=l[6]==null||isNaN(l[8]),s(W,"class","w-5 h-5 p-1 m-1 group outline-none"),s(he,"d","M18.4 445c11.2 5.3 24.5 3.6 34.1-4.4L224 297.7V416c0 12.4 7.2 23.7 18.4 29s24.5 3.6 34.1-4.4L448 297.7V416c0 17.7 14.3 32 32 32s32-14.3 32-32V96c0-17.7-14.3-32-32-32s-32 14.3-32 32V214.3L276.5 71.4c-9.5-7.9-22.8-9.7-34.1-4.4S224 83.6 224 96V214.3L52.5 71.4c-9.5-7.9-22.8-9.7-34.1-4.4S0 83.6 0 96V416c0 12.4 7.2 23.7 18.4 29z"),s(x,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(x,"xmlns","http://www.w3.org/2000/svg"),s(x,"viewBox","0 0 512 512"),s(q,"tooltip","Forward 15s"),q.disabled=Be=l[6]==null||isNaN(l[8]),s(q,"class","w-5 h-5 p-1 m-1 group outline-none"),s(ge,"d","M0 224c0 17.7 14.3 32 32 32s32-14.3 32-32c0-53 43-96 96-96H320v32c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-9.2-9.2-22.9-11.9-34.9-6.9S320 19.1 320 32V64H160C71.6 64 0 135.6 0 224zm512 64c0-17.7-14.3-32-32-32s-32 14.3-32 32c0 53-43 96-96 96H192V352c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V448H352c88.4 0 160-71.6 160-160z"),s($,"class",Le="w-full h-full fill-slate-900 "+(l[10]?"":"fill-slate-400")+" group-disabled:fill-slate-400"),s($,"xmlns","http://www.w3.org/2000/svg"),s($,"viewBox","0 0 512 512"),s(G,"tooltip","Loop"),G.disabled=we=l[6]==null||isNaN(l[8]),s(G,"class","w-5 h-5 p-1 m-1 group outline-none"),s(ke,"d","M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"),s(K,"class","w-full h-full fill-slate-900 group-disabled:fill-slate-400"),s(K,"xmlns","http://www.w3.org/2000/svg"),s(K,"viewBox","0 0 448 512"),s(j,"tooltip","Fullscreen"),j.disabled=Ie=l[6]==null||isNaN(l[8])||l[12],s(j,"class","w-5 h-5 p-1 m-1 group outline-none"),s(o,"class","flex flex-row items-center"),s(Ee,"class","w-4 h-4 mb-1 "),s(Z,"class","absolute top-0 left-0"),qe(Z,"width","0px"),qe(Z,"height","0px"),qe(Z,"border-style","solid"),qe(Z,"border-width","0px 0px 20px 80px"),qe(Z,"border-color","transparent transparent rgb(215, 218, 218)"),s(_e,"class","absolute left-1 bottom-0 right-1"),s(re,"class","w-[80px] h-[20px] mr-5 mb-1 relative"),s(ne,"class","flex flex-row items-end"),s(m,"class","shrink-0 w-full flex flex-row justify-between items-center"),s(ie,"class","shrink-0 bg-black flex flex-row justify-between items-center p-2 basis-8"),s(c,"class",Me=(l[12]?"absolute bottom-0 left-0 right-0 h-[102px]":"shrink-0 w-full")+" "+(l[13]&&l[12]?"hidden":"")+" flex flex-col bg-xp-yellow"),s(e,"slot","content"),s(e,"class","absolute inset-0 flex flex-col bg-xp-yellow overflow-hidden")},m(d,y){J(d,e,y),f(e,t),l[35](t),f(e,i),P&&P.m(e,null),f(e,u),A&&A.m(e,null),f(e,p),f(e,c),f(c,_),lt(b,_,null),f(c,a),f(c,m),f(m,o),f(o,n),ue.m(n,null),f(o,U),f(o,T),f(T,g),f(g,V),f(o,X),f(o,M),f(M,L),f(L,oe),f(o,ve),f(o,F),f(F,Q),f(Q,le),f(o,Te),f(o,W),f(W,se),f(se,de),f(o,Ue),f(o,q),f(q,x),f(x,he),f(o,Fe),f(o,G),f(G,$),f($,ge),f(o,Se),f(o,j),f(j,K),f(K,ke),f(m,Pe),f(m,ne),f(ne,Ee),f(ne,Ae),f(ne,re),f(re,Z),f(re,He),f(re,_e),lt(ee,_e,null),f(c,je),f(c,ie),te.m(ie,null),l[48](e),S=!0,r||(D=[pe(me.call(null,n)),B(n,"click",l[18]),pe(me.call(null,T)),B(T,"click",l[19]),pe(me.call(null,M)),B(M,"click",l[24]),pe(me.call(null,F)),B(F,"click",l[22]),pe(me.call(null,W)),B(W,"click",l[21]),pe(me.call(null,q)),B(q,"click",l[23]),pe(me.call(null,G)),B(G,"click",l[47]),pe(me.call(null,j)),B(j,"click",l[27]),B(e,"mousemove",l[28])],r=!0)},p(d,y){I===(I=ae(d))&&P?P.p(d,y):(P&&P.d(1),P=I&&I(d),P&&(P.c(),P.m(e,u))),De===(De=it(d))&&A?A.p(d,y):(A&&A.d(1),A=De&&De(d),A&&(A.c(),A.m(e,p)));const We={};y[0]&256&&(We.max=parseInt(d[8])),y[0]&128&&(We.values=[parseInt(d[7])]),b.$set(We),Ge!==(Ge=at(d))&&(ue.d(1),ue=Ge(d),ue&&(ue.c(),ue.m(n,null))),(!S||y[0]&320&&w!==(w=d[6]==null||isNaN(d[8])))&&(n.disabled=w),(!S||y[0]&832&&N!==(N=d[6]==null||d[9]==null||d[9]||isNaN(d[8])))&&(T.disabled=N),(!S||y[0]&320&&fe!==(fe=d[6]==null||isNaN(d[8])))&&(M.disabled=fe),(!S||y[0]&320&&Y!==(Y=d[6]==null||isNaN(d[8])))&&(F.disabled=Y),(!S||y[0]&320&&be!==(be=d[6]==null||isNaN(d[8])))&&(W.disabled=be),(!S||y[0]&320&&Be!==(Be=d[6]==null||isNaN(d[8])))&&(q.disabled=Be),(!S||y[0]&1024&&Le!==(Le="w-full h-full fill-slate-900 "+(d[10]?"":"fill-slate-400")+" group-disabled:fill-slate-400"))&&s($,"class",Le),(!S||y[0]&320&&we!==(we=d[6]==null||isNaN(d[8])))&&(G.disabled=we),(!S||y[0]&4416&&Ie!==(Ie=d[6]==null||isNaN(d[8])||d[12]))&&(j.disabled=Ie);const ce={};y[0]&8&&(ce.values=[d[3]]),ee.$set(ce),Ke===(Ke=ut(d))&&te?te.p(d,y):(te.d(1),te=Ke(d),te&&(te.c(),te.m(ie,null))),(!S||y[0]&12288&&Me!==(Me=(d[12]?"absolute bottom-0 left-0 right-0 h-[102px]":"shrink-0 w-full")+" "+(d[13]&&d[12]?"hidden":"")+" flex flex-col bg-xp-yellow"))&&s(c,"class",Me)},i(d){S||(st(b.$$.fragment,d),st(ee.$$.fragment,d),S=!0)},o(d){nt(b.$$.fragment,d),nt(ee.$$.fragment,d),S=!1},d(d){d&&h(e),l[35](null),P&&P.d(),A&&A.d(),l[46](null),rt(b),ue.d(),rt(ee),te.d(),l[48](null),r=!1,ot(D)}}}function dl(l){let e,t,i,u,p={options:l[2],on_click_close:l[1],$$slots:{content:[fl]},$$scope:{ctx:l}};return e=new Gt({props:p}),l[49](e),{c(){et(e.$$.fragment)},l(c){tt(e.$$.fragment,c)},m(c,_){lt(e,c,_),t=!0,i||(u=B(el,"keydown",l[25]),i=!0)},p(c,_){const b={};_[0]&4&&(b.options=c[2]),_[0]&131064|_[1]&1073741824&&(b.$$scope={dirty:_,ctx:c}),e.$set(b)},i(c){t||(st(e.$$.fragment,c),t=!0)},o(c){nt(e.$$.fragment,c),t=!1},d(c){l[49](null),rt(e,c),i=!1,u()}}}function hl(l,e,t){let i,u,p,c;xe(l,Kt,r=>t(52,u=r)),xe(l,Jt,r=>t(53,p=r)),xe(l,Xt,r=>t(34,c=r));let{id:_}=e,{window:b}=e,{self:a}=e,{parentNode:m}=e,{fs_item:o}=e,{exec_path:n}=e,w=[".mp3",".wav",".ogg"],U=[".mp4",".wmv",".webm",".ogg"],T,g,V,N,X,M,L=.8,oe=!0,fe,ve=!1,F=!1,Q,le,Y;jt(async()=>{await Te(o)});async function Te(r){if(r==null)return;if(w.includes(r.ext))t(5,g="audio");else if(U.includes(r.ext))t(5,g="video");else return;await Wt();let D;if(r.storage_type=="local"){let ae=await Zt(r.url);D=URL.createObjectURL(ae)}else r.storage_type=="remote"&&(D=r.url);t(11,fe=await ge(r)),console.log({subtitle_src:fe}),t(6,V.src=D,V),V.play(),b.update_title(r.name)}async function W(){const r=(await St(()=>import("../../../chunks/OpenModal-c8aab4f0.js"),["_app/immutable/chunks/OpenModal-c8aab4f0.js","_app/immutable/assets/Button-bfb744c1.css","_app/immutable/chunks/index-7043d62e.js","_app/immutable/chunks/TitleBar-43a93d4a.js","_app/immutable/chunks/lodash-b0811ec1.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/system-e72d84b7.js","_app/immutable/chunks/finder-63196e92.js","_app/immutable/chunks/store-a53f3f11.js","_app/immutable/chunks/index-bc59e2a0.js","_app/immutable/chunks/utils-1f7a3290.js","_app/immutable/chunks/fs-359b7395.js","_app/immutable/chunks/index-e9763cd9.js","_app/immutable/chunks/admin-093cca4c.js","_app/immutable/chunks/Button-4430907d.js","_app/immutable/chunks/Previewable-95faa8f2.js"])).default;let D=new r({target:b.node_ref,props:{filetypes:[".mp3",".mp4",".ogg",".webm",".wav",".flac",".aac"],filetypes_desc:"Audio and Video Files"}});D.self=D,D.on_open=()=>{let ae=u[D.selected_items[0]];Te(ae),D.destroy()}}function se(){Qt.update(r=>r.filter(D=>D!=a)),a.$destroy(),clearTimeout(Q)}let{options:de={title:"Media Player Classic",min_width:500,min_height:400,width:700,height:500,icon:"/images/xp/icons/MPC.png",id:_,exec_path:n}}=e;function be(){M==null||M?V.play():V.pause()}function Ue(){t(6,V.src="",V),t(5,g=""),b.update_title("Media Player Classic")}function q(r){console.log(r),t(7,N=r.detail.value)}function x(){t(7,N=Math.min(N+5,X)),console.log("next5s",N)}function he(){t(7,N=Math.max(N-5,0)),console.log("back5s",N)}function Be(){t(7,N=Math.min(N+15,X))}function Fe(){t(7,N=Math.max(N-15,0))}function G(r){console.log("keyevent receive in wmp"),!(b.z_index!=p||isNaN(X))&&(console.log("not skip"),r.preventDefault(),r.key=="ArrowRight"?(x(),K("Forward 5s to "+Oe(N))):r.key=="ArrowLeft"?(he(),K("Rewind 5s to "+Oe(N))):r.key=="ArrowUp"?(t(3,L=Math.min(1,L+.05)),K("Volume: "+Dt.round(L*100))):r.key=="ArrowDown"?(t(3,L=Math.max(0,L-.05)),K("Volume: "+Dt.round(L*100))):r.key==" "&&be())}function $(r){t(3,L=r.detail.value)}async function ge(r){try{let D=u[r.parent].children.map(I=>u[I]).find(I=>I.basename==r.basename&&I.ext==".vtt"),ae=u[r.parent].children.map(I=>u[I]).find(I=>I.basename==r.basename&&I.ext==".srt");if(D){let I=await Mt(D.id);return URL.createObjectURL(I)}else if(ae){let I=await Mt(ae.id);return await $t(I)}else return null}catch{return null}}function Le(){le.requestFullscreen(),t(13,F=!0),document.removeEventListener("fullscreenchange",we),document.addEventListener("fullscreenchange",we)}function we(){!document.fullscreenElement&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement?t(12,ve=!1):t(12,ve=!0)}function Se(r){clearTimeout(Q),t(13,F=!1),Q=setTimeout(()=>{t(13,F=!0)},3e3)}let j;function K(r){clearTimeout(j),t(15,Y.innerText=r,Y),Y.classList.remove("hidden"),j=setTimeout(()=>{Y.classList.add("hidden")},1500)}function ke(r){ze[r?"unshift":"push"](()=>{Y=r,t(15,Y)})}function Ie(r){ze[r?"unshift":"push"](()=>{V=r,t(6,V)})}function Pe(){N=this.currentTime,t(7,N)}function ne(){X=this.duration,t(8,X)}function Ee(){M=this.paused,t(9,M)}function Ae(){i=this.volume,t(16,i),t(3,L),t(34,c)}function re(r){ze[r?"unshift":"push"](()=>{V=r,t(6,V)})}function Z(){N=this.currentTime,t(7,N)}function He(){X=this.duration,t(8,X)}function _e(){M=this.paused,t(9,M)}function ee(){i=this.volume,t(16,i),t(3,L),t(34,c)}function je(r){ze[r?"unshift":"push"](()=>{T=r,t(4,T)})}const ie=()=>t(10,oe=!oe);function Me(r){ze[r?"unshift":"push"](()=>{le=r,t(14,le)})}function S(r){ze[r?"unshift":"push"](()=>{b=r,t(0,b)})}return l.$$set=r=>{"id"in r&&t(29,_=r.id),"window"in r&&t(0,b=r.window),"self"in r&&t(30,a=r.self),"parentNode"in r&&t(31,m=r.parentNode),"fs_item"in r&&t(32,o=r.fs_item),"exec_path"in r&&t(33,n=r.exec_path),"options"in r&&t(2,de=r.options)},l.$$.update=()=>{l.$$.dirty[0]&8|l.$$.dirty[1]&8&&t(16,i=L*c)},[b,se,de,L,T,g,V,N,X,M,oe,fe,ve,F,le,Y,i,W,be,Ue,q,x,he,Be,Fe,G,$,Le,Se,_,a,m,o,n,c,ke,Ie,Pe,ne,Ee,Ae,re,Z,He,_e,ee,je,ie,Me,S]}class Ml extends Pt{constructor(e){super(),At(this,e,hl,dl,Ht,{id:29,window:0,self:30,parentNode:31,fs_item:32,exec_path:33,destroy:1,options:2},null,[-1,-1])}get id(){return this.$$.ctx[29]}set id(e){this.$$set({id:e}),ye()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),ye()}get self(){return this.$$.ctx[30]}set self(e){this.$$set({self:e}),ye()}get parentNode(){return this.$$.ctx[31]}set parentNode(e){this.$$set({parentNode:e}),ye()}get fs_item(){return this.$$.ctx[32]}set fs_item(e){this.$$set({fs_item:e}),ye()}get exec_path(){return this.$$.ctx[33]}set exec_path(e){this.$$set({exec_path:e}),ye()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),ye()}}export{Ml as default};

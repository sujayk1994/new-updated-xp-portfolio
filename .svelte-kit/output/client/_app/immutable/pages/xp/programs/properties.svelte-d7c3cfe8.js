import{S as we,i as $e,X as K,s as xe,w as L,x as q,y as G,f as U,t as W,B as H,P as ke,o as ye,l as _,a as I,r as oe,m as g,n as b,c as V,h as u,u as fe,p as v,b as te,J as a,U as De,_ as Ee,E as Ie,q as ee}from"../../../chunks/index-7043d62e.js";import{W as Ve}from"../../../chunks/Window-b5e17ac1.js";import{B as ae}from"../../../chunks/Button-4430907d.js";import{T as ze}from"../../../chunks/Tab-2656ffbd.js";import{C as he}from"../../../chunks/CheckBox-77df900a.js";import{h as Ce,r as Se}from"../../../chunks/store-a53f3f11.js";import{i as pe}from"../../../chunks/system-e72d84b7.js";import{k as Z,t as _e}from"../../../chunks/utils-1f7a3290.js";import{_ as ge}from"../../../chunks/lodash-b0811ec1.js";import{t as Be}from"../../../chunks/finder-63196e92.js";import"../../../chunks/TitleBar-43a93d4a.js";import"../../../chunks/index-e9763cd9.js";/* empty css                                                           */import"../../../chunks/index-bc59e2a0.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function ve(r,e,t){const l=r.slice();return l[12]=e[t],l}function Pe(r){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0});var l=b(e);l.forEach(u),this.h()},h(){v(e,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/FolderClosed.png)] bg-contain bg-no-repeat"),ee(e,"background-image",r[1].icon==null?"":`url(${r[1].icon})`,!1)},m(t,l){te(t,e,l)},p(t,l){l&2&&ee(e,"background-image",t[1].icon==null?"":`url(${t[1].icon})`,!1)},d(t){t&&u(e)}}}function Fe(r){let e;return{c(){e=_("div"),this.h()},l(t){e=g(t,"DIV",{class:!0});var l=b(e);l.forEach(u),this.h()},h(){v(e,"class","w-[50px] h-[50px] shrink-0 bg-[url(/images/xp/icons/Default.png)] bg-contain bg-no-repeat"),ee(e,"background-image",r[5](r[1]),!1)},m(t,l){te(t,e,l)},p(t,l){l&2&&ee(e,"background-image",t[5](t[1]),!1)},d(t){t&&u(e)}}}function be(r){let e,t,l=r[12][0]+"",n,f,c,o=r[12][1]+"",w;return{c(){e=_("div"),t=_("div"),n=oe(l),f=I(),c=_("div"),w=oe(o),this.h()},l(h){e=g(h,"DIV",{class:!0});var $=b(e);t=g($,"DIV",{class:!0});var z=b(t);n=fe(z,l),z.forEach(u),f=V($),c=g($,"DIV",{class:!0});var k=b(c);w=fe(k,o),k.forEach(u),$.forEach(u),this.h()},h(){v(t,"class","shrink-0 w-[70px]"),v(c,"class","grow ml-2 "+(r[12][0]=="Location"?"break-all":"break-words")),v(e,"class","flex flex-row px-2 my-3 text-[12px] text-slate-800")},m(h,$){te(h,e,$),a(e,t),a(t,n),a(e,f),a(e,c),a(c,w)},p:Ie,d(h){h&&u(e)}}}function Me(r){let e,t,l,n,f,c,o,w,h,$,z,k,D,C,i,S,E,m,P,ie,F,se,M,ne,B,T,le,j,N;t=new ze({props:{size:"sm",items:["General","Sharing","Customize"],selected:"General"}});function ce(s,x){return s[1].type=="file"?Fe:Pe}let O=ce(r),y=O(r),J=r[4],p=[];for(let s=0;s<J.length;s+=1)p[s]=be(ve(r,J,s));return P=new he({props:{checked:!1,checkmark:!1,label:"Read-only"}}),F=new he({props:{checked:!1,label:"Hidden",style:"margin-top:10px;"}}),M=new ae({props:{title:"Advanced..."}}),T=new ae({props:{title:"OK",style:"margin-right:10px;",on_click:r[2]}}),j=new ae({props:{title:"Cancel",on_click:r[2]}}),{c(){e=_("div"),L(t.$$.fragment),l=I(),n=_("div"),f=_("div"),c=_("div"),y.c(),o=I(),w=_("div"),h=_("input"),z=I();for(let s=0;s<p.length;s+=1)p[s].c();k=I(),D=_("div"),C=_("div"),i=oe("Attributes"),S=I(),E=_("div"),m=_("div"),L(P.$$.fragment),ie=I(),L(F.$$.fragment),se=I(),L(M.$$.fragment),ne=I(),B=_("div"),L(T.$$.fragment),le=I(),L(j.$$.fragment),this.h()},l(s){e=g(s,"DIV",{slot:!0,class:!0});var x=b(e);q(t.$$.fragment,x),l=V(x),n=g(x,"DIV",{class:!0});var d=b(n);f=g(d,"DIV",{class:!0});var A=b(f);c=g(A,"DIV",{class:!0});var de=b(c);y.l(de),de.forEach(u),o=V(A),w=g(A,"DIV",{class:!0});var ue=b(w);h=g(ue,"INPUT",{class:!0}),ue.forEach(u),A.forEach(u),z=V(d);for(let re=0;re<p.length;re+=1)p[re].l(d);k=V(d),D=g(d,"DIV",{class:!0});var R=b(D);C=g(R,"DIV",{class:!0});var me=b(C);i=fe(me,"Attributes"),me.forEach(u),S=V(R),E=g(R,"DIV",{class:!0});var X=b(E);m=g(X,"DIV",{});var Q=b(m);q(P.$$.fragment,Q),ie=V(Q),q(F.$$.fragment,Q),Q.forEach(u),se=V(X),q(M.$$.fragment,X),X.forEach(u),R.forEach(u),d.forEach(u),ne=V(x),B=g(x,"DIV",{class:!0});var Y=b(B);q(T.$$.fragment,Y),le=V(Y),q(j.$$.fragment,Y),Y.forEach(u),x.forEach(u),this.h()},h(){v(c,"class","shrink-0 w-[70px]"),h.disabled=!0,v(h,"class","border w-full border-slate-400 outline-none text-[11px] pt-0.5 pl-0.5 pb-2"),h.value=$=r[1].name,v(w,"class","grow ml-2"),v(f,"class","flex flex-row border-b-slate-300 border-b p-2 items-center my-3"),v(C,"class","shrink-0 w-[70px]"),v(E,"class","grow ml-2 flex flex-row justify-between items-start"),v(D,"class","flex flex-row px-2 my-3 mb-6 text-[12px] text-slate-800"),v(n,"class","w-full h-[350px] grow bg-[#fafaf9] shadow-sm -mt-[1px] overflow-hidden overflow-y-auto p-2"),v(B,"class","flex flex-row justify-end items-center px-1 pt-2 mt-1"),v(e,"slot","content"),v(e,"class","absolute inset-1 p-2 pb-1 bg-xp-yellow overflow-hidden")},m(s,x){te(s,e,x),G(t,e,null),a(e,l),a(e,n),a(n,f),a(f,c),y.m(c,null),a(f,o),a(f,w),a(w,h),a(n,z);for(let d=0;d<p.length;d+=1)p[d].m(n,null);a(n,k),a(n,D),a(D,C),a(C,i),a(D,S),a(D,E),a(E,m),G(P,m,null),a(m,ie),G(F,m,null),a(E,se),G(M,E,null),a(e,ne),a(e,B),G(T,B,null),a(B,le),G(j,B,null),N=!0},p(s,x){if(O===(O=ce(s))&&y?y.p(s,x):(y.d(1),y=O(s),y&&(y.c(),y.m(c,null))),(!N||x&2&&$!==($=s[1].name)&&h.value!==$)&&(h.value=$),x&16){J=s[4];let d;for(d=0;d<J.length;d+=1){const A=ve(s,J,d);p[d]?p[d].p(A,x):(p[d]=be(A),p[d].c(),p[d].m(n,k))}for(;d<p.length;d+=1)p[d].d(1);p.length=J.length}},i(s){N||(U(t.$$.fragment,s),U(P.$$.fragment,s),U(F.$$.fragment,s),U(M.$$.fragment,s),U(T.$$.fragment,s),U(j.$$.fragment,s),N=!0)},o(s){W(t.$$.fragment,s),W(P.$$.fragment,s),W(F.$$.fragment,s),W(M.$$.fragment,s),W(T.$$.fragment,s),W(j.$$.fragment,s),N=!1},d(s){s&&u(e),H(t),y.d(),De(p,s),H(P),H(F),H(M),H(T),H(j)}}}function Te(r){let e,t,l={options:r[3],on_click_close:r[2],$$slots:{content:[Me]},$$scope:{ctx:r}};return e=new Ve({props:l}),r[9](e),{c(){L(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,f){G(e,n,f),t=!0},p(n,[f]){const c={};f&8&&(c.options=n[3]),f&32770&&(c.$$scope={dirty:f,ctx:n}),e.$set(c)},i(n){t||(U(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){r[9](null),H(e,n)}}}function je(r,e,t){let l;ke(r,Ce,i=>t(10,l=i));let{id:n}=e,{window:f}=e,{self:c}=e,{fs_item:o}=e,{exec_path:w}=e,h=o==null?[]:[["Type",o.type.split("_").map(i=>ge.upperFirst(i)).join(" ")],["Location",Be(o.id)],...o?.type=="file"?[["Size",Z(o.size*1024)]]:[["Size",Z(k(o.id)*1024)]],...o?.type=="file"?[["Size on disk",Z(Math.ceil(o.size*1024/4096)*4096)]]:[["Size on disk",Z(Math.ceil(k(o.id)*1024/4096)*4096)]],...o?.type=="file"?[]:[["Contains",`${o.children.filter(i=>l[i].type=="file").length} Files, ${o.children.filter(i=>l[i].type=="folder").length} Folders`]],["Date Created",_e(o.date_created)],["Last Modified",_e(o.date_modified)]];ye(()=>{console.log(o)});function $(){Se.update(i=>i.filter(S=>S!=c)),c.$destroy()}let{options:z={title:"Properties",min_width:350,min_height:460,width:350,height:460,icon:null,id:n,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:w}}=e;function k(i){console.log(i);let S=ge.sum(l[i].children.map(m=>l[m]).filter(m=>m.type=="file").map(m=>m.size)),E=l[i].children.filter(m=>l[m].type=="folder");for(let m of E)S+=k(m);return S}function D(i){return i.icon!=null?`url(${i.icon})`:pe[i.ext]!=null?`url(/images/xp/icons/${pe[i.ext]})`:null}function C(i){Ee[i?"unshift":"push"](()=>{f=i,t(0,f)})}return r.$$set=i=>{"id"in i&&t(6,n=i.id),"window"in i&&t(0,f=i.window),"self"in i&&t(7,c=i.self),"fs_item"in i&&t(1,o=i.fs_item),"exec_path"in i&&t(8,w=i.exec_path),"options"in i&&t(3,z=i.options)},[f,o,$,z,h,D,n,c,w,C]}class Ze extends we{constructor(e){super(),$e(this,e,je,Te,xe,{id:6,window:0,self:7,fs_item:1,exec_path:8,destroy:2,options:3})}get id(){return this.$$.ctx[6]}set id(e){this.$$set({id:e}),K()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),K()}get self(){return this.$$.ctx[7]}set self(e){this.$$set({self:e}),K()}get fs_item(){return this.$$.ctx[1]}set fs_item(e){this.$$set({fs_item:e}),K()}get exec_path(){return this.$$.ctx[8]}set exec_path(e){this.$$set({exec_path:e}),K()}get destroy(){return this.$$.ctx[2]}get options(){return this.$$.ctx[3]}set options(e){this.$$set({options:e}),K()}}export{Ze as default};

import{S as F,i as I,X as d,s as j,w as z,x as X,y as D,f as L,t as P,B as V,o as W,l as m,a as C,m as h,n as b,h as p,c as M,N as O,p as f,q as y,b as T,J as w,_ as k}from"../../../chunks/index-7043d62e.js";import{W as B}from"../../../chunks/Window-b5e17ac1.js";import{r as J}from"../../../chunks/store-a53f3f11.js";import"../../../chunks/TitleBar-43a93d4a.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-e9763cd9.js";import"../../../chunks/index-bc59e2a0.js";import"../../../chunks/system-e72d84b7.js";function R(i){let e,t,c,n,o,a,u;return{c(){e=m("div"),t=m("video"),c=m("source"),a=C(),u=m("div"),this.h()},l(r){e=h(r,"DIV",{slot:!0,class:!0});var l=b(e);t=h(l,"VIDEO",{class:!0});var _=b(t);c=h(_,"SOURCE",{src:!0,type:!0}),_.forEach(p),a=M(l),u=h(l,"DIV",{class:!0});var g=b(u);g.forEach(p),l.forEach(p),this.h()},h(){O(c.src,n="/video/xp_tour.mp4")||f(c,"src",n),f(c,"type","video/mp4"),t.autoplay=!0,t.playsInline=!0,f(t,"class",o="absolute inset-0 "+(i[4],"object-cover")+" w-full h-full"),f(u,"class","absolute inset-0 border-l-4 border-r-4 border-white"),f(e,"slot","content"),f(e,"class","absolute inset-1 flex flex-col bg-xp-yellow"),y(e,"background",i[2].background,!1)},m(r,l){T(r,e,l),w(e,t),w(t,c),w(e,a),w(e,u),i[9](e)},p(r,l){l&16&&o!==(o="absolute inset-0 "+(r[4],"object-cover")+" w-full h-full")&&f(t,"class",o),l&4&&y(e,"background",r[2].background,!1)},d(r){r&&p(e),i[9](null)}}}function U(i){let e,t,c={options:i[2],on_click_close:i[1],on_click_maximize:i[10],$$slots:{content:[R]},$$scope:{ctx:i}};return e=new B({props:c}),i[11](e),{c(){z(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,o){D(e,n,o),t=!0},p(n,[o]){const a={};o&4&&(a.options=n[2]),o&8&&(a.on_click_maximize=n[10]),o&16412&&(a.$$scope={dirty:o,ctx:n}),e.$set(a)},i(n){t||(L(e.$$.fragment,n),t=!0)},o(n){P(e.$$.fragment,n),t=!1},d(n){i[11](null),V(e,n)}}}function A(i,e,t){let{id:c}=e,{window:n}=e,{self:o}=e,{parentNode:a}=e,{exec_path:u}=e,r,l=!0;W(()=>{r.requestFullscreen(),_()});function _(){document.removeEventListener("fullscreenchange",x),document.addEventListener("fullscreenchange",x)}function g(){J.update(s=>s.filter(q=>q!=o)),o.$destroy()}let{options:v={title:"Microsoft Windows XP Tour",min_width:960,min_height:540,width:960,height:570,icon:"/images/xp/icons/TourXP.png",resizable:!1,background:"#fff",id:c,exec_path:u}}=e;function x(){!document.fullscreenElement&&!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.msFullscreenElement?t(4,l=!1):t(4,l=!0)}function E(s){k[s?"unshift":"push"](()=>{r=s,t(3,r)})}const N=()=>r.requestFullscreen();function S(s){k[s?"unshift":"push"](()=>{n=s,t(0,n)})}return i.$$set=s=>{"id"in s&&t(5,c=s.id),"window"in s&&t(0,n=s.window),"self"in s&&t(6,o=s.self),"parentNode"in s&&t(7,a=s.parentNode),"exec_path"in s&&t(8,u=s.exec_path),"options"in s&&t(2,v=s.options)},[n,g,v,r,l,c,o,a,u,E,N,S]}class se extends F{constructor(e){super(),I(this,e,A,U,j,{id:5,window:0,self:6,parentNode:7,exec_path:8,destroy:1,options:2})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),d()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),d()}get self(){return this.$$.ctx[6]}set self(e){this.$$set({self:e}),d()}get parentNode(){return this.$$.ctx[7]}set parentNode(e){this.$$set({parentNode:e}),d()}get exec_path(){return this.$$.ctx[8]}set exec_path(e){this.$$set({exec_path:e}),d()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),d()}}export{se as default};

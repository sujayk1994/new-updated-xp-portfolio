import{S as ee,i as te,X as q,s as le,w as S,x as z,y as j,f as C,t as O,B as U,P as M,l as w,a as I,m as b,n as k,c as V,h as u,p as g,b as P,J as m,_ as se,r as L,u as N,E as T,a6 as X,a7 as ae,U as ne,N as re,O as ie,v as oe,q as A}from"../../../chunks/index-59da92c8.js";import{W as ce}from"../../../chunks/Window-6d40284c.js";import{B as F}from"../../../chunks/Button-5a8d2150.js";import{T as fe}from"../../../chunks/Tab-547cf6fa.js";import{h as ue,w as H,r as he}from"../../../chunks/store-fabc0359.js";import{g as de}from"../../../chunks/index-355ed6be.js";import{_ as Q}from"../../../chunks/lodash-b0811ec1.js";import{w as pe}from"../../../chunks/system-e72d84b7.js";import"../../../chunks/TitleBar-a503be9c.js";import"../../../chunks/utils-1f7a3290.js";/* empty css                                                           */import"../../../chunks/index-5377a032.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";function Y(l,e,t){const r=l.slice();return r[16]=e[t],r}function _e(l){let e,t,r;return{c(){e=w("div"),t=w("p"),r=L("This tab is not available yet."),this.h()},l(n){e=b(n,"DIV",{class:!0});var o=k(e);t=b(o,"P",{});var i=k(t);r=N(i,"This tab is not available yet."),i.forEach(u),o.forEach(u),this.h()},h(){g(e,"class","flex items-center justify-center h-full text-slate-500 text-[13px]")},m(n,o){P(n,e,o),m(e,t),m(t,r)},p:T,d(n){n&&u(e)}}}function me(l){let e,t,r,n,o,i,_,v,h,x,D,E,f,s={ctx:l,current:null,token:null,hasCatch:!1,pending:we,then:ve,catch:ge,value:19};X(n=l[8](l[3]),s);let d=l[6],p=[];for(let c=0;c<d.length;c+=1)p[c]=Z(Y(l,d,c));return{c(){e=w("div"),t=w("div"),r=w("div"),s.block.c(),o=I(),i=w("div"),_=I(),v=w("div"),h=w("div"),x=w("span"),D=L("Background"),E=I(),f=w("div");for(let c=0;c<p.length;c+=1)p[c].c();this.h()},l(c){e=b(c,"DIV",{class:!0});var $=k(e);t=b($,"DIV",{class:!0});var a=k(t);r=b(a,"DIV",{class:!0});var y=k(r);s.block.l(y),o=V(y),i=b(y,"DIV",{class:!0});var G=k(i);G.forEach(u),y.forEach(u),a.forEach(u),$.forEach(u),_=V(c),v=b(c,"DIV",{class:!0});var R=k(v);h=b(R,"DIV",{class:!0});var B=k(h);x=b(B,"SPAN",{class:!0});var W=k(x);D=N(W,"Background"),W.forEach(u),E=V(B),f=b(B,"DIV",{class:!0});var K=k(f);for(let J=0;J<p.length;J+=1)p[J].l(K);K.forEach(u),B.forEach(u),R.forEach(u),this.h()},h(){g(i,"class","absolute inset-0 bg-cover bg-[url(/images/xp/crt_monitor.png)]"),g(r,"class","w-full h-full relative"),g(t,"class","absolute top-8 left-1/2 -translate-x-1/2 w-[190px] h-[190px]"),g(e,"class","h-[250px] shrink-0 relative"),g(x,"class","my-1"),g(f,"class","grow p-1 overflow-y-scroll overflow-x-hidden border border-slate-700"),g(h,"class","grow flex flex-col overflow-hidden"),g(v,"class","grow flex flex-row text-[13px] p-2 text-slate-800 overflow-hidden")},m(c,$){P(c,e,$),m(e,t),m(t,r),s.block.m(r,s.anchor=null),s.mount=()=>r,s.anchor=o,m(r,o),m(r,i),P(c,_,$),P(c,v,$),m(v,h),m(h,x),m(x,D),m(h,E),m(h,f);for(let a=0;a<p.length;a+=1)p[a].m(f,null)},p(c,$){if(l=c,s.ctx=l,$&8&&n!==(n=l[8](l[3]))&&X(n,s)||ae(s,l,$),$&104){d=l[6];let a;for(a=0;a<d.length;a+=1){const y=Y(l,d,a);p[a]?p[a].p(y,$):(p[a]=Z(y),p[a].c(),p[a].m(f,null))}for(;a<p.length;a+=1)p[a].d(1);p.length=d.length}},d(c){c&&u(e),s.block.d(),s.token=null,s=null,c&&u(_),c&&u(v),ne(p,c)}}}function ge(l){return{c:T,l:T,m:T,p:T,d:T}}function ve(l){let e,t=`url(${l[19]})`;return{c(){e=w("div"),this.h()},l(r){e=b(r,"DIV",{class:!0,style:!0});var n=k(e);n.forEach(u),this.h()},h(){g(e,"class","absolute bg-cover"),A(e,"inset","10px 10px 30px 10px"),A(e,"background-image",t,!1)},m(r,n){P(r,e,n)},p(r,n){n&8&&t!==(t=`url(${r[19]})`)&&A(e,"background-image",t,!1)},d(r){r&&u(e)}}}function we(l){let e;return{c(){e=w("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0});var r=k(e);r.forEach(u),this.h()},h(){g(e,"class","absolute bg-cover"),A(e,"inset","10px 10px 30px 10px")},m(t,r){P(t,e,r)},p:T,d(t){t&&u(e)}}}function Z(l){let e,t,r,n,o,i=l[5][l[16]].basename+"",_,v,h,x,D;function E(){return l[13](l[16])}return{c(){e=w("div"),t=w("img"),n=I(),o=w("p"),_=L(i),h=I(),this.h()},l(f){e=b(f,"DIV",{class:!0});var s=k(e);t=b(s,"IMG",{src:!0,class:!0,alt:!0}),n=V(s),o=b(s,"P",{class:!0});var d=k(o);_=N(d,i),d.forEach(u),h=V(s),s.forEach(u),this.h()},h(){re(t.src,r="/images/xp/icons/JPG.png")||g(t,"src",r),g(t,"class","w-[20px] h-[20px] shrink-0"),g(t,"alt",""),g(o,"class",v="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(Q.isEqual(l[3],l[16])?"bg-blue-600 text-slate-50":"")),g(e,"class","w-full flex flex-row")},m(f,s){P(f,e,s),m(e,t),m(e,n),m(e,o),m(o,_),m(e,h),x||(D=ie(e,"click",E),x=!0)},p(f,s){l=f,s&32&&i!==(i=l[5][l[16]].basename+"")&&oe(_,i),s&8&&v!==(v="leading-[20px] ml-1 px-1 grow-0 line-clamp-1 "+(Q.isEqual(l[3],l[16])?"bg-blue-600 text-slate-50":""))&&g(o,"class",v)},d(f){f&&u(e),x=!1,D()}}}function be(l){let e,t,r,n,o,i,_,v,h,x;t=new fe({props:{size:"sm",items:["Themes","Desktop","Screesaver","Appearance","Settings"],selected:l[4]}}),t.$on("change",l[12]);function D(s,d){return s[4]==="Desktop"?me:_e}let E=D(l),f=E(l);return _=new F({props:{title:"OK",style:"margin-right:10px;",on_click:l[7]}}),h=new F({props:{title:"Cancel",on_click:l[1]}}),{c(){e=w("div"),S(t.$$.fragment),r=I(),n=w("div"),f.c(),o=I(),i=w("div"),S(_.$$.fragment),v=I(),S(h.$$.fragment),this.h()},l(s){e=b(s,"DIV",{slot:!0,class:!0});var d=k(e);z(t.$$.fragment,d),r=V(d),n=b(d,"DIV",{class:!0});var p=k(n);f.l(p),p.forEach(u),o=V(d),i=b(d,"DIV",{class:!0});var c=k(i);z(_.$$.fragment,c),v=V(c),z(h.$$.fragment,c),c.forEach(u),d.forEach(u),this.h()},h(){g(n,"class","w-full grow bg-[#fafaf9] shadow-sm -mt-[1px] flex flex-col overflow-hidden"),g(i,"class","shrink-0 flex flex-row justify-end items-center px-1 pt-2"),g(e,"slot","content"),g(e,"class","absolute inset-1 p-2 pb-1 flex flex-col bg-xp-yellow overflow-hidden")},m(s,d){P(s,e,d),j(t,e,null),m(e,r),m(e,n),f.m(n,null),m(e,o),m(e,i),j(_,i,null),m(i,v),j(h,i,null),x=!0},p(s,d){const p={};d&16&&(p.selected=s[4]),t.$set(p),E===(E=D(s))&&f?f.p(s,d):(f.d(1),f=E(s),f&&(f.c(),f.m(n,null)))},i(s){x||(C(t.$$.fragment,s),C(_.$$.fragment,s),C(h.$$.fragment,s),x=!0)},o(s){O(t.$$.fragment,s),O(_.$$.fragment,s),O(h.$$.fragment,s),x=!1},d(s){s&&u(e),U(t),f.d(),U(_),U(h)}}}function xe(l){let e,t,r={options:l[2],on_click_close:l[1],$$slots:{content:[be]},$$scope:{ctx:l}};return e=new ce({props:r}),l[14](e),{c(){S(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,o){j(e,n,o),t=!0},p(n,[o]){const i={};o&4&&(i.options=n[2]),o&1048632&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){l[14](null),U(e,n)}}}function ke(l,e,t){let r,n;M(l,ue,a=>t(5,r=a)),M(l,H,a=>t(15,n=a));let{id:o}=e,{window:i}=e,{self:_}=e,{exec_path:v}=e,h=n,x=r[pe].children.filter(a=>r[a].type=="file"),D="Desktop";function E(){he.update(a=>a.filter(y=>y!=_)),_.$destroy()}async function f(){D==="Desktop"&&H.set(h),E()}let{options:s={title:"Display Properties",min_width:400,min_height:470,width:400,height:470,icon:null,id:o,resizable:!1,maximize_btn:!1,minimize_btn:!1,exec_path:v}}=e;async function d(a){let y=r[a];if(console.log(y),y.storage_type=="remote")return y.url;if(y.storage_type=="local"){let G=await de(y.url);return URL.createObjectURL(G)}}const p=a=>t(4,D=a.detail),c=a=>t(3,h=a);function $(a){se[a?"unshift":"push"](()=>{i=a,t(0,i)})}return l.$$set=a=>{"id"in a&&t(9,o=a.id),"window"in a&&t(0,i=a.window),"self"in a&&t(10,_=a.self),"exec_path"in a&&t(11,v=a.exec_path),"options"in a&&t(2,s=a.options)},[i,E,s,h,D,r,x,f,d,o,_,v,p,c,$]}class Ce extends ee{constructor(e){super(),te(this,e,ke,xe,le,{id:9,window:0,self:10,exec_path:11,destroy:1,options:2})}get id(){return this.$$.ctx[9]}set id(e){this.$$set({id:e}),q()}get window(){return this.$$.ctx[0]}set window(e){this.$$set({window:e}),q()}get self(){return this.$$.ctx[10]}set self(e){this.$$set({self:e}),q()}get exec_path(){return this.$$.ctx[11]}set exec_path(e){this.$$set({exec_path:e}),q()}get destroy(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}set options(e){this.$$set({options:e}),q()}}export{Ce as default};

import{S as Ie,i as Ce,X as J,s as Me,w as C,x as M,y as F,f as S,t as B,B as R,P as Fe,o as Se,l as d,a as b,r as Be,m as g,n as w,c as v,h,u as Re,p,q as $e,b as Pe,J as i,O as xe,R as Te,_ as ye}from"../../../chunks/index-7043d62e.js";import{W as Ae}from"../../../chunks/Window-b5e17ac1.js";import{h as Ne,r as Le,a as Ue}from"../../../chunks/store-a53f3f11.js";import{r as ke,i as De}from"../../../chunks/system-e72d84b7.js";import{M as qe}from"../../../chunks/Menu-efd686a8.js";import{R as ee}from"../../../chunks/RButton-10c56b49.js";import Ge from"./my_computer/viewer.svelte-339923a0.js";import{t as Oe,a as We,b as je}from"../../../chunks/finder-63196e92.js";import ze from"./my_computer/sidebar.svelte-2e199071.js";import"../../../chunks/TitleBar-43a93d4a.js";import"../../../chunks/utils-1f7a3290.js";import"../../../chunks/lodash-b0811ec1.js";import"../../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../../chunks/index-e9763cd9.js";import"../../../chunks/index-bc59e2a0.js";import"../../../chunks/tooltip-f551ec3c.js";import"../../../chunks/preload-helper-c28b9807.js";import"../../../chunks/fs-359b7395.js";import"../../../chunks/admin-093cca4c.js";import"../../../chunks/dir_parser-38186120.js";import"../../../chunks/Previewable-95faa8f2.js";function He(s){let t,r,x,l,_,m,N,o,y,$,c,L,D,te,P,U,ne,k,se,T,ie,V,j,re,A,e,a,X,ce,pe,q,E,fe,G,le,de,oe,ge,O,W,he,K,I,Q,_e,we;x=new qe({props:{menu:s[11]}}),y=new ee({props:{icon:"/images/xp/icons/Back.png",title:"Back",on_click:s[14],expandable:!0,disabled:s[8]==0,tooltip_message:"Back to Previous"}}),c=new ee({props:{icon:"/images/xp/icons/Forward.png",on_click:s[15],expandable:!0,disabled:s[8]==s[7].length-1}}),D=new ee({props:{icon:"/images/xp/icons/Up.png",on_click:s[6],disabled:s[7][s[8]]==null}}),k=new ee({props:{icon:"/images/xp/icons/Search.png",title:"Search"}}),T=new ee({props:{icon:"/images/xp/icons/FolderView.png",title:"Folders"}}),A=new ee({props:{icon:"/images/xp/icons/FolderView-Classic.png",expandable:!0}}),W=new ze({props:{my_computer_instance:s[2],id:s[7][s[8]]}});let Ve={self:s[1],id:s[7][s[8]],my_computer_instance:s[2]};return I=new Ge({props:Ve}),s[19](I),I.$on("open",s[20]),{c(){t=d("div"),r=d("div"),C(x.$$.fragment),l=b(),_=d("div"),m=d("div"),N=b(),o=d("div"),C(y.$$.fragment),$=b(),C(c.$$.fragment),L=b(),C(D.$$.fragment),te=b(),P=d("div"),U=d("div"),ne=b(),C(k.$$.fragment),se=b(),C(T.$$.fragment),ie=b(),V=d("div"),j=d("div"),re=b(),C(A.$$.fragment),e=b(),a=d("div"),X=d("span"),ce=Be("Address"),pe=b(),q=d("div"),E=d("input"),fe=b(),G=d("div"),de=b(),oe=d("div"),ge=b(),O=d("div"),C(W.$$.fragment),he=b(),K=d("div"),C(I.$$.fragment),this.h()},l(n){t=g(n,"DIV",{slot:!0,class:!0});var u=w(t);r=g(u,"DIV",{class:!0});var z=w(r);M(x.$$.fragment,z),l=v(z),_=g(z,"DIV",{class:!0});var ae=w(_);m=g(ae,"DIV",{class:!0}),w(m).forEach(h),ae.forEach(h),z.forEach(h),N=v(u),o=g(u,"DIV",{class:!0});var f=w(o);M(y.$$.fragment,f),$=v(f),M(c.$$.fragment,f),L=v(f),M(D.$$.fragment,f),te=v(f),P=g(f,"DIV",{class:!0});var Y=w(P);U=g(Y,"DIV",{class:!0}),w(U).forEach(h),Y.forEach(h),ne=v(f),M(k.$$.fragment,f),se=v(f),M(T.$$.fragment,f),ie=v(f),V=g(f,"DIV",{class:!0});var H=w(V);j=g(H,"DIV",{class:!0}),w(j).forEach(h),H.forEach(h),re=v(f),M(A.$$.fragment,f),f.forEach(h),e=v(u),a=g(u,"DIV",{class:!0});var Z=w(a);X=g(Z,"SPAN",{class:!0});var be=w(X);ce=Re(be,"Address"),be.forEach(h),pe=v(Z),q=g(Z,"DIV",{class:!0});var ue=w(q);E=g(ue,"INPUT",{class:!0,type:!0}),fe=v(ue),G=g(ue,"DIV",{class:!0});var Ee=w(G);Ee.forEach(h),ue.forEach(h),de=v(Z),oe=g(Z,"DIV",{class:!0}),w(oe).forEach(h),Z.forEach(h),ge=v(u),O=g(u,"DIV",{class:!0});var me=w(O);M(W.$$.fragment,me),he=v(me),K=g(me,"DIV",{class:!0});var ve=w(K);M(I.$$.fragment,ve),ve.forEach(h),me.forEach(h),u.forEach(h),this.h()},h(){p(m,"class","w-[20px] h-[20px] bg-[url(/images/ms.png)] bg-contain bg-center bg-no-repeat"),p(_,"class","w-[40px] h-full bg-slate-50 flex items-center justify-center"),p(r,"class","shrink-0 w-full border-b border-stone-300 flex flex-row items-center justify-between"),p(U,"class","w-full h-full border-l border-stone-300"),p(P,"class","w-[1px] h-full py-1"),p(j,"class","w-full h-full border-l border-stone-300"),p(V,"class","w-[1px] h-full py-1"),p(o,"class","shrink-0 flex flex-row items-center border-b border-stone-300"),p(X,"class","px-2 text-slate-800"),p(E,"class","absolute inset-0 pl-7 outline-none"),p(E,"type","text"),E.value=s[10],p(G,"class",le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(s[7][s[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"),$e(G,"background-image",s[13](s[9][s[7][s[8]]]),!1),p(q,"class","grow h-[25px] relative"),p(oe,"class","w-[30px] h-[20px] bg-[url(/images/xp/icons/Go.png)] bg-center bg-contain bg-no-repeat"),p(a,"class","shrink-0 flex flex-row items-center border-b border-stone-300 text-[11px] items-center"),p(K,"class","grow relative bg-blue-100"),p(O,"class","grow flex flex-row overflow-hidden"),p(t,"slot","content"),p(t,"class","absolute inset-0.5 flex flex-col bg-xp-yellow overflow-hidden")},m(n,u){Pe(n,t,u),i(t,r),F(x,r,null),i(r,l),i(r,_),i(_,m),i(t,N),i(t,o),F(y,o,null),i(o,$),F(c,o,null),i(o,L),F(D,o,null),i(o,te),i(o,P),i(P,U),i(o,ne),F(k,o,null),i(o,se),F(T,o,null),i(o,ie),i(o,V),i(V,j),i(o,re),F(A,o,null),i(t,e),i(t,a),i(a,X),i(X,ce),i(a,pe),i(a,q),i(q,E),i(q,fe),i(q,G),i(a,de),i(a,oe),i(t,ge),i(t,O),F(W,O,null),i(O,he),i(O,K),F(I,K,null),Q=!0,_e||(we=[xe(E,"click",Xe),xe(E,"keyup",s[12])],_e=!0)},p(n,u){const z={};u&256&&(z.disabled=n[8]==0),y.$set(z);const ae={};u&384&&(ae.disabled=n[8]==n[7].length-1),c.$set(ae);const f={};u&384&&(f.disabled=n[7][n[8]]==null),D.$set(f),(!Q||u&1024&&E.value!==n[10])&&(E.value=n[10]),(!Q||u&384&&le!==(le="w-[17px] h-[17px] absolute top-[4px] left-[4px] "+(n[7][n[8]]==null?"bg-[url(/images/xp/icons/MyComputer.png)]":"bg-[url(/images/xp/icons/FolderClosed.png)]")+" bg-contain"))&&p(G,"class",le),u&896&&$e(G,"background-image",n[13](n[9][n[7][n[8]]]),!1);const Y={};u&4&&(Y.my_computer_instance=n[2]),u&384&&(Y.id=n[7][n[8]]),W.$set(Y);const H={};u&2&&(H.self=n[1]),u&384&&(H.id=n[7][n[8]]),u&4&&(H.my_computer_instance=n[2]),I.$set(H)},i(n){Q||(S(x.$$.fragment,n),S(y.$$.fragment,n),S(c.$$.fragment,n),S(D.$$.fragment,n),S(k.$$.fragment,n),S(T.$$.fragment,n),S(A.$$.fragment,n),S(W.$$.fragment,n),S(I.$$.fragment,n),Q=!0)},o(n){B(x.$$.fragment,n),B(y.$$.fragment,n),B(c.$$.fragment,n),B(D.$$.fragment,n),B(k.$$.fragment,n),B(T.$$.fragment,n),B(A.$$.fragment,n),B(W.$$.fragment,n),B(I.$$.fragment,n),Q=!1},d(n){n&&h(t),R(x),R(y),R(c),R(D),R(k),R(T),R(A),R(W),s[19](null),R(I),_e=!1,Te(we)}}}function Je(s){let t,r,x={options:s[4],on_click_close:s[3],$$slots:{content:[He]},$$scope:{ctx:s}};return t=new Ae({props:x}),s[21](t),{c(){C(t.$$.fragment)},l(l){M(t.$$.fragment,l)},m(l,_){F(t,l,_),r=!0},p(l,[_]){const m={};_&16&&(m.options=l[4]),_&8390534&&(m.$$scope={dirty:_,ctx:l}),t.$set(m)},i(l){r||(S(t.$$.fragment,l),r=!0)},o(l){B(t.$$.fragment,l),r=!1},d(l){s[21](null),R(t,l)}}}const Xe=s=>s.target.select();function Ke(s,t,r){let x,l;Fe(s,Ne,e=>r(9,l=e));let{id:_}=t,{window:m}=t,{self:N}=t,{exec_path:o}=t,{fs_item:y}=t,$=[y?.id],c=0,{viewer:L}=t,D=[{name:"File",items:[[{name:"Create Shortcut",disabled:!0}],[{name:"Close",action:()=>{P()}}]]},{name:"View",items:[[{name:"Toolbars"},{name:"Status Bar"},{name:"Explorer Bar"}],[{name:"Thumbnails"},{name:"Tiles"},{name:"Icons"},{name:"List"},{name:"Details"}],[{name:"Choose Details..."},{name:"Go To"},{name:"Refresh"}]]},{name:"Favorites",items:[[{name:"Add to Favorites..."},{name:"Organize Favorites"}],[{name:"Links",icon:"/images/xp/icons/FolderClosed.png"},{name:"MSN.com",icon:"/images/xp/icons/URL.png"},{name:"Radio Station Guide",icon:"/images/xp/icons/URL.png"}]]},{name:"Tools",items:[[{name:"Map Network Drive..."},{name:"Disconnect Network Drive..."},{name:"Synchronize..."}],[{name:"Folder Options..."}]]},{name:"Help",items:[[{name:"Help and Support Center",action:()=>V("https://docs.win32.run")},{name:"Is this copy legal?",action:()=>V("https://docs.win32.run")}],[{name:"About Windows",action:()=>V("https://docs.win32.run")}]]}];Se(()=>{});function te(e){if(e.key=="Enter"){let a=We(e.target.value);a==null&&(a=je(e.target.value)),console.log("found id",a),a&&(k(a),e.target.blur())}}function P(){Le.update(e=>e.filter(a=>a!=N)),N.$destroy()}let{options:U={title:"My Computer",min_width:500,min_height:400,width:700,height:500,icon:"/images/xp/icons/MyComputer.png",id:_,exec_path:o}}=t;function ne(e){return e==null?null:e.icon!=null?`url(${e.icon})`:De[e.ext]!=null?`url(/images/xp/icons/${De[e.ext]})`:e.id==ke?"url(/images/xp/icons/RecycleBinempty.png)":null}function k(e){e!=$[c]&&(console.log("open",e),console.log(l[e]),r(7,$=[...$.slice(0,c+1),e]),r(8,c=$.length-1))}function se(){r(8,c=Math.max(0,c-1))}function T(){r(8,c=Math.min($.length-1,c+1))}function ie(){let e=l[$[c]].parent;k(e)}function V(e){Ue.set({path:"./programs/internet_explorer.svelte",fs_item:{url:e}})}function j(e){ye[e?"unshift":"push"](()=>{L=e,r(1,L)})}const re=e=>k(e.detail.id);function A(e){ye[e?"unshift":"push"](()=>{m=e,r(0,m)})}return s.$$set=e=>{"id"in e&&r(16,_=e.id),"window"in e&&r(0,m=e.window),"self"in e&&r(2,N=e.self),"exec_path"in e&&r(17,o=e.exec_path),"fs_item"in e&&r(18,y=e.fs_item),"viewer"in e&&r(1,L=e.viewer),"options"in e&&r(4,U=e.options)},s.$$.update=()=>{if(s.$$.dirty&384&&r(10,x=Oe($[c])||"My Computer"),s.$$.dirty&897){let e=$[c];if(e==null)m?.update_icon("/images/xp/icons/MyComputer.png"),m?.update_title("My Computer");else if(e==ke)m?.update_icon("/images/xp/icons/RecycleBinempty.png"),m?.update_title("Recycle Bin");else{let a=l[e];a&&(a.icon?m?.update_icon(a.icon):m?.update_icon("/images/xp/icons/FolderClosed.png"),m?.update_title(a.name))}}},[m,L,N,P,U,k,ie,$,c,l,x,D,te,ne,se,T,_,o,y,j,re,A]}class wt extends Ie{constructor(t){super(),Ce(this,t,Ke,Je,Me,{id:16,window:0,self:2,exec_path:17,fs_item:18,viewer:1,destroy:3,options:4,open:5,up:6})}get id(){return this.$$.ctx[16]}set id(t){this.$$set({id:t}),J()}get window(){return this.$$.ctx[0]}set window(t){this.$$set({window:t}),J()}get self(){return this.$$.ctx[2]}set self(t){this.$$set({self:t}),J()}get exec_path(){return this.$$.ctx[17]}set exec_path(t){this.$$set({exec_path:t}),J()}get fs_item(){return this.$$.ctx[18]}set fs_item(t){this.$$set({fs_item:t}),J()}get viewer(){return this.$$.ctx[1]}set viewer(t){this.$$set({viewer:t}),J()}get destroy(){return this.$$.ctx[3]}get options(){return this.$$.ctx[4]}set options(t){this.$$set({options:t}),J()}get open(){return this.$$.ctx[5]}get up(){return this.$$.ctx[6]}}export{wt as default};

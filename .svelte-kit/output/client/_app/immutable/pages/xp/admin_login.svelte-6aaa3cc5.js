import{S as pe,i as me,s as _e,l as d,a as U,r as N,m as f,n as _,c as q,u as B,h as o,N as le,p as r,q as he,b as z,J as s,O as G,a0 as ve,a1 as be,v as $,E as se,R as fe,P as te,o as ge,Q as Z}from"../../chunks/index-7043d62e.js";import{a as ye,i as xe,b as we,d as Ee,s as ke,e as Ae,f as Ie,g as De}from"../../chunks/admin-093cca4c.js";import{u as Ve}from"../../chunks/utils-1f7a3290.js";import"../../chunks/index-bc59e2a0.js";import"../../chunks/system-e72d84b7.js";function Le(a){let e,t,l,i,u,y,v,h,b,x,I,m,D,w,E,j,V,k,O,n,c,g,A,C=a[7]?"Please wait...":a[4]?"Create":"OK",S,K,M,R,ee,ae;function re(p,T){return p[4]?Ue:Te}let F=re(a),Y=F(a),L=a[2]&&ue(a),P=!a[3]&&!a[4]&&de(a);return{c(){e=d("div"),t=d("img"),i=U(),u=d("div"),Y.c(),y=U(),v=d("div"),h=d("div"),b=d("label"),x=N("User name:"),I=U(),m=d("input"),D=U(),w=d("div"),E=d("label"),j=N("Password:"),V=U(),k=d("input"),O=U(),L&&L.c(),n=U(),c=d("div"),P&&P.c(),g=U(),A=d("button"),S=N(C),K=U(),M=d("button"),R=N("Cancel"),this.h()},l(p){e=f(p,"DIV",{class:!0});var T=_(e);t=f(T,"IMG",{src:!0,alt:!0,class:!0}),i=q(T),u=f(T,"DIV",{class:!0});var J=_(u);Y.l(J),y=q(J),v=f(J,"DIV",{class:!0});var H=_(v);h=f(H,"DIV",{class:!0});var W=_(h);b=f(W,"LABEL",{class:!0});var ie=_(b);x=B(ie,"User name:"),ie.forEach(o),I=q(W),m=f(W,"INPUT",{type:!0,class:!0,placeholder:!0}),W.forEach(o),D=q(H),w=f(H,"DIV",{class:!0});var X=_(w);E=f(X,"LABEL",{class:!0});var ne=_(E);j=B(ne,"Password:"),ne.forEach(o),V=q(X),k=f(X,"INPUT",{type:!0,class:!0}),X.forEach(o),H.forEach(o),O=q(J),L&&L.l(J),J.forEach(o),T.forEach(o),n=q(p),c=f(p,"DIV",{class:!0});var Q=_(c);P&&P.l(Q),g=q(Q),A=f(Q,"BUTTON",{class:!0});var oe=_(A);S=B(oe,C),oe.forEach(o),K=q(Q),M=f(Q,"BUTTON",{class:!0});var ce=_(M);R=B(ce,"Cancel"),ce.forEach(o),Q.forEach(o),this.h()},h(){le(t.src,l="/images/xp/icons/UserAccounts.png")||r(t,"src",l),r(t,"alt",""),r(t,"class","w-12 h-12 shrink-0"),r(b,"class","text-xs w-20 text-right"),r(m,"type","text"),r(m,"class","xp-input flex-1 px-1 py-0.5 text-xs svelte-1yf006q"),r(m,"placeholder","admin"),r(h,"class","flex items-center gap-2"),r(E,"class","text-xs w-20 text-right"),r(k,"type","password"),r(k,"class","xp-input flex-1 px-1 py-0.5 text-xs svelte-1yf006q"),r(w,"class","flex items-center gap-2"),r(v,"class","space-y-2"),r(u,"class","flex-1"),r(e,"class","flex gap-4"),r(A,"class","xp-button px-4 py-1 text-xs svelte-1yf006q"),A.disabled=a[7],r(M,"class","xp-button px-4 py-1 text-xs svelte-1yf006q"),r(c,"class","flex justify-end gap-2 mt-4 pt-3 border-t border-gray-300")},m(p,T){z(p,e,T),s(e,t),s(e,i),s(e,u),Y.m(u,null),s(u,y),s(u,v),s(v,h),s(h,b),s(b,x),s(h,I),s(h,m),Z(m,a[0]),s(v,D),s(v,w),s(w,E),s(E,j),s(w,V),s(w,k),Z(k,a[1]),s(u,O),L&&L.m(u,null),z(p,n,T),z(p,c,T),P&&P.m(c,null),s(c,g),s(c,A),s(A,S),s(c,K),s(c,M),s(M,R),ee||(ae=[G(m,"input",a[14]),G(m,"keydown",a[12]),G(k,"input",a[15]),G(k,"keydown",a[12]),G(A,"click",a[10]),G(M,"click",a[9])],ee=!0)},p(p,T){F!==(F=re(p))&&(Y.d(1),Y=F(p),Y&&(Y.c(),Y.m(u,y))),T&1&&m.value!==p[0]&&Z(m,p[0]),T&2&&k.value!==p[1]&&Z(k,p[1]),p[2]?L?L.p(p,T):(L=ue(p),L.c(),L.m(u,null)):L&&(L.d(1),L=null),!p[3]&&!p[4]?P?P.p(p,T):(P=de(p),P.c(),P.m(c,g)):P&&(P.d(1),P=null),T&144&&C!==(C=p[7]?"Please wait...":p[4]?"Create":"OK")&&$(S,C),T&128&&(A.disabled=p[7])},d(p){p&&o(e),Y.d(),L&&L.d(),p&&o(n),p&&o(c),P&&P.d(),ee=!1,fe(ae)}}}function Pe(a){let e,t,l,i,u,y,v,h,b,x,I=a[6]?.username+"",m,D,w,E,j,V,k,O,n;return{c(){e=d("div"),t=d("div"),l=d("img"),u=U(),y=d("div"),v=d("div"),h=N("Logged in as:"),b=U(),x=d("div"),m=N(I),D=U(),w=d("p"),E=N("You are currently logged in as admin. Any files or folders you create will be saved permanently and visible to all visitors."),j=U(),V=d("button"),k=N("Log Out"),this.h()},l(c){e=f(c,"DIV",{class:!0});var g=_(e);t=f(g,"DIV",{class:!0});var A=_(t);l=f(A,"IMG",{src:!0,alt:!0,class:!0}),u=q(A),y=f(A,"DIV",{class:!0});var C=_(y);v=f(C,"DIV",{class:!0});var S=_(v);h=B(S,"Logged in as:"),S.forEach(o),b=q(C),x=f(C,"DIV",{class:!0});var K=_(x);m=B(K,I),K.forEach(o),C.forEach(o),A.forEach(o),D=q(g),w=f(g,"P",{class:!0});var M=_(w);E=B(M,"You are currently logged in as admin. Any files or folders you create will be saved permanently and visible to all visitors."),M.forEach(o),j=q(g),V=f(g,"BUTTON",{class:!0});var R=_(V);k=B(R,"Log Out"),R.forEach(o),g.forEach(o),this.h()},h(){le(l.src,i="/images/xp/icons/UserAccounts.png")||r(l,"src",i),r(l,"alt",""),r(l,"class","w-12 h-12"),r(v,"class","text-sm font-bold"),r(x,"class","text-lg text-blue-800"),r(y,"class","text-left"),r(t,"class","flex items-center justify-center gap-2 mb-4"),r(w,"class","text-xs text-gray-600 mb-4"),r(V,"class","xp-button px-6 py-1 svelte-1yf006q"),r(e,"class","text-center")},m(c,g){z(c,e,g),s(e,t),s(t,l),s(t,u),s(t,y),s(y,v),s(v,h),s(y,b),s(y,x),s(x,m),s(e,D),s(e,w),s(w,E),s(e,j),s(e,V),s(V,k),O||(n=G(V,"click",a[11]),O=!0)},p(c,g){g&64&&I!==(I=c[6]?.username+"")&&$(m,I)},d(c){c&&o(e),O=!1,n()}}}function Te(a){let e,t;return{c(){e=d("p"),t=N("Enter your credentials to access admin mode and make permanent changes."),this.h()},l(l){e=f(l,"P",{class:!0});var i=_(e);t=B(i,"Enter your credentials to access admin mode and make permanent changes."),i.forEach(o),this.h()},h(){r(e,"class","text-xs text-gray-600 mb-3")},m(l,i){z(l,e,i),s(e,t)},d(l){l&&o(e)}}}function Ue(a){let e,t;return{c(){e=d("p"),t=N("Create your admin account to manage portfolio content. This will be the only admin account."),this.h()},l(l){e=f(l,"P",{class:!0});var i=_(e);t=B(i,"Create your admin account to manage portfolio content. This will be the only admin account."),i.forEach(o),this.h()},h(){r(e,"class","text-xs text-gray-600 mb-3")},m(l,i){z(l,e,i),s(e,t)},d(l){l&&o(e)}}}function ue(a){let e,t;return{c(){e=d("div"),t=N(a[2]),this.h()},l(l){e=f(l,"DIV",{class:!0});var i=_(e);t=B(i,a[2]),i.forEach(o),this.h()},h(){r(e,"class","mt-2 text-xs text-red-600 bg-red-50 border border-red-200 p-1 rounded")},m(l,i){z(l,e,i),s(e,t)},p(l,i){i&4&&$(t,l[2])},d(l){l&&o(e)}}}function de(a){let e,t,l,i;return{c(){e=d("button"),t=N("Create Account"),this.h()},l(u){e=f(u,"BUTTON",{class:!0});var y=_(e);t=B(y,"Create Account"),y.forEach(o),this.h()},h(){r(e,"class","xp-button px-4 py-1 text-xs svelte-1yf006q")},m(u,y){z(u,e,y),s(e,t),l||(i=G(e,"click",a[16]),l=!0)},p:se,d(u){u&&o(e),l=!1,i()}}}function qe(a){let e,t,l,i,u,y,v,h,b=a[5]?"Admin Panel":a[4]?"Create Admin Account":"Admin Login",x,I,m,D,w,E,j,V;function k(c,g){return c[5]?Pe:Le}let O=k(a),n=O(a);return{c(){e=d("div"),t=d("div"),l=d("div"),i=d("div"),u=d("img"),v=U(),h=d("span"),x=N(b),I=U(),m=d("button"),D=N("\u2715"),w=U(),E=d("div"),n.c(),this.h()},l(c){e=f(c,"DIV",{class:!0});var g=_(e);t=f(g,"DIV",{class:!0});var A=_(t);l=f(A,"DIV",{class:!0,style:!0});var C=_(l);i=f(C,"DIV",{class:!0});var S=_(i);u=f(S,"IMG",{src:!0,alt:!0,class:!0}),v=q(S),h=f(S,"SPAN",{class:!0});var K=_(h);x=B(K,b),K.forEach(o),S.forEach(o),I=q(C),m=f(C,"BUTTON",{class:!0});var M=_(m);D=B(M,"\u2715"),M.forEach(o),C.forEach(o),w=q(A),E=f(A,"DIV",{class:!0});var R=_(E);n.l(R),R.forEach(o),A.forEach(o),g.forEach(o),this.h()},h(){le(u.src,y="/images/xp/icons/UserAccounts.png")||r(u,"src",y),r(u,"alt",""),r(u,"class","w-4 h-4"),r(h,"class","text-white text-xs font-bold drop-shadow-[1px_1px_0px_rgba(0,0,0,0.5)]"),r(i,"class","flex items-center gap-1"),r(m,"class","xp-close-btn w-5 h-[18px] flex items-center justify-center text-[10px] svelte-1yf006q"),r(l,"class","xp-titlebar flex items-center justify-between px-1 h-[26px] select-none svelte-1yf006q"),he(l,"background","linear-gradient(180deg, #0a246a 0%, #0a246a 3%, #a6caf0 4%, #0a246a 5%, #0a246a 100%)"),r(E,"class","bg-[#ece9d8] p-4"),r(t,"class","xp-window w-[380px] shadow-2xl svelte-1yf006q"),r(e,"class","fixed inset-0 bg-black/30 z-50 flex items-center justify-center")},m(c,g){z(c,e,g),s(e,t),s(t,l),s(l,i),s(i,u),s(i,v),s(i,h),s(h,x),s(l,I),s(l,m),s(m,D),s(t,w),s(t,E),n.m(E,null),j||(V=[G(m,"click",a[9]),ve(a[8].call(null,t)),G(t,"click_outside",a[9]),G(e,"click",be(a[9]))],j=!0)},p(c,[g]){g&48&&b!==(b=c[5]?"Admin Panel":c[4]?"Create Admin Account":"Admin Login")&&$(x,b),O===(O=k(c))&&n?n.p(c,g):(n.d(1),n=O(c),n&&(n.c(),n.m(E,null)))},i:se,o:se,d(c){c&&o(e),n.d(),j=!1,fe(V)}}}function Ce(a,e,t){let l,i,u;te(a,xe,n=>t(5,l=n)),te(a,we,n=>t(6,i=n)),te(a,Ee,n=>t(7,u=n));const{click_outside:y}=Ve;let{self:v=null}=e,h="",b="",x="",I=!0,m=!1;ge(async()=>{t(3,I=await ye()),I||t(4,m=!0)});function D(){ke.set(!1),v&&v.$destroy&&v.$destroy()}async function w(){if(t(2,x=""),!h.trim()||!b.trim()){t(2,x="Please enter username and password");return}if(m){if(b.length<6){t(2,x="Password must be at least 6 characters");return}const n=await Ae(h,b);n.success?(D(),window.location.reload()):t(2,x=n.error)}else{const n=await Ie(h,b);n.success?(D(),window.location.reload()):t(2,x=n.error)}}async function E(){await De()}function j(n){n.key==="Enter"&&w(),n.key==="Escape"&&D()}function V(){h=this.value,t(0,h)}function k(){b=this.value,t(1,b)}const O=()=>t(4,m=!0);return a.$$set=n=>{"self"in n&&t(13,v=n.self)},[h,b,x,I,m,l,i,u,y,D,w,E,j,v,V,k,O]}class Se extends pe{constructor(e){super(),me(this,e,Ce,qe,_e,{self:13})}}export{Se as default};

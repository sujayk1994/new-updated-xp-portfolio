import{S as be,i as we,s as ke,l as D,m as y,n as E,h as m,p,q as P,b as x,a0 as $e,O as K,E as G,U as Z,R as De,Y as Ee,a as z,c as A,J as g,r as N,u as R,v as ee,N as J,K as C,M as F,e as re,w as S,x as T,a2 as H,y as j,f as L,t as q,B,P as Q,V as ye,o as Ie,_ as Ve}from"../../chunks/index-59da92c8.js";import Me from"./task_bar.svelte-e3e410e7.js";import ze from"./work_space.svelte-888afafc.js";import{_ as W}from"../../chunks/preload-helper-c28b9807.js";import{e as Ae}from"../../chunks/utils-1f7a3290.js";import{c as ie,h as X,w as xe,q as oe}from"../../chunks/store-fabc0359.js";import"../../chunks/lodash-b0811ec1.js";import Oe from"./screensaver.svelte-06b950fa.js";import"../../chunks/index-5725e307.js";import{s as ne}from"../../chunks/index-355ed6be.js";import Pe from"./start_menu.svelte-416b5be9.js";import Se from"./welcome.svelte-e420fd4b.js";import{c as Te,l as je,g as Le,i as qe,b as Be}from"../../chunks/admin-b2f51e94.js";import"./system_tray.svelte-46be6ed2.js";import"../../chunks/tooltip-f551ec3c.js";import"./program_tray.svelte-c44c2867.js";import"./wallpaper.svelte-7c1ad6da.js";import"../../chunks/system-e72d84b7.js";import"../../chunks/fs-94169c0b.js";import"../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../chunks/finder-f715ee8c.js";import"./desktop_folder.svelte-ca147172.js";import"../../chunks/dir_parser-92703b79.js";import"../../chunks/Previewable-21087848.js";import"../../chunks/index-5377a032.js";function ae(t,e,s){const n=t.slice();return n[13]=e[s],n[15]=s,n}function fe(t,e,s){const n=t.slice();return n[16]=e[s],n}function ue(t,e,s){const n=t.slice();return n[16]=e[s],n}function ce(t){let e,s,n,r=`${t[16].icon_size}px`,o=`${t[16].icon_size}px`;return{c(){e=D("img"),this.h()},l(l){e=y(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){J(e.src,s=t[16].icon)||p(e,"src",s),p(e,"class",n="w-[17px] h-[17px] "+(t[16].icon_type=="monotone"?"group-hover:invert":"")+" "+(t[16].disabled&&t[16].icon_type=="monotone"?"contrast-50 invert":"")),p(e,"alt",""),P(e,"width",r,!1),P(e,"height",o,!1)},m(l,u){x(l,e,u)},p(l,u){u&2&&!J(e.src,s=l[16].icon)&&p(e,"src",s),u&2&&n!==(n="w-[17px] h-[17px] "+(l[16].icon_type=="monotone"?"group-hover:invert":"")+" "+(l[16].disabled&&l[16].icon_type=="monotone"?"contrast-50 invert":""))&&p(e,"class",n),u&2&&r!==(r=`${l[16].icon_size}px`)&&P(e,"width",r,!1),u&2&&o!==(o=`${l[16].icon_size}px`)&&P(e,"height",o,!1)},d(l){l&&m(e)}}}function de(t){let e,s;return{c(){e=C("svg"),s=C("path"),this.h()},l(n){e=F(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var r=E(e);s=F(r,"path",{d:!0}),E(s).forEach(m),r.forEach(m),this.h()},h(){p(s,"d","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"),p(e,"class","fill-slate-900 group-hover:fill-slate-50 w-[10px] h-[10px]"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 256 512")},m(n,r){x(n,e,r),g(e,s)},d(n){n&&m(e)}}}function he(t){let e,s,n=`${t[4]>t[8]-2*t[3]?`-${(t[16].items.length-2)*100}%`:"0"}  `,r=t[16].items,o=[];for(let l=0;l<r.length;l+=1)o[l]=pe(ue(t,r,l));return{c(){e=D("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=y(l,"DIV",{class:!0});var u=E(e);for(let i=0;i<o.length;i+=1)o[i].l(u);u.forEach(m),this.h()},h(){p(e,"class",s="absolute "+(t[5]>t[7]-2*t[2]?"-left-full":"left-full")+" py-0.5 hidden group-hover:flex flex-col w-[180px] bg-slate-50 border-slate-200 border-2"),P(e,"top",n,!1)},m(l,u){x(l,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null)},p(l,u){if(u&3){r=l[16].items;let i;for(i=0;i<r.length;i+=1){const d=ue(l,r,i);o[i]?o[i].p(d,u):(o[i]=pe(d),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}u&164&&s!==(s="absolute "+(l[5]>l[7]-2*l[2]?"-left-full":"left-full")+" py-0.5 hidden group-hover:flex flex-col w-[180px] bg-slate-50 border-slate-200 border-2")&&p(e,"class",s),u&282&&n!==(n=`${l[4]>l[8]-2*l[3]?`-${(l[16].items.length-2)*100}%`:"0"}  `)&&P(e,"top",n,!1)},d(l){l&&m(e),Z(o,l)}}}function Ne(t){let e;return{c(){e=D("div"),this.h()},l(s){e=y(s,"DIV",{class:!0}),E(e).forEach(m),this.h()},h(){p(e,"class","h-0.5 bg-slate-200 mx-1")},m(s,n){x(s,e,n)},p:G,d(s){s&&m(e)}}}function Re(t){let e,s,n,r,o,l=t[16].name+"",u,i,d,_,f,b,I;function $(c,h){if(c[16].icon)return Fe;if(c[16].check)return Ce}let w=$(t),a=w&&w(t);function k(){return t[9](t[16])}return{c(){e=D("div"),s=D("div"),a&&a.c(),n=z(),r=D("div"),o=D("p"),u=N(l),d=z(),_=D("div"),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=E(e);s=y(h,"DIV",{class:!0});var v=E(s);a&&a.l(v),v.forEach(m),n=A(h),r=y(h,"DIV",{class:!0});var V=E(r);o=y(V,"P",{});var M=E(o);u=R(M,l),M.forEach(m),V.forEach(m),d=A(h),_=y(h,"DIV",{class:!0});var O=E(_);O.forEach(m),h.forEach(m),this.h()},h(){p(s,"class","w-[20px] ml-1 shrink-0 flex items-center justify-center"),p(r,"class",i="grow "+(t[16].font=="bold"?"font-bold":"")+" "+(t[16].disabled?"text-slate-400":"group-sub-hover:text-slate-50")),p(_,"class","w-[10px]"),p(e,"class",f="py-1 w-full flex flex-row items-center "+(t[16].disabled?"":"hover:bg-blue-600")+" relative group-sub "+(t[16].disabled?"pointer-events-none":""))},m(c,h){x(c,e,h),g(e,s),a&&a.m(s,null),g(e,n),g(e,r),g(r,o),g(o,u),g(e,d),g(e,_),b||(I=K(e,"click",k),b=!0)},p(c,h){t=c,w===(w=$(t))&&a?a.p(t,h):(a&&a.d(1),a=w&&w(t),a&&(a.c(),a.m(s,null))),h&2&&l!==(l=t[16].name+"")&&ee(u,l),h&2&&i!==(i="grow "+(t[16].font=="bold"?"font-bold":"")+" "+(t[16].disabled?"text-slate-400":"group-sub-hover:text-slate-50"))&&p(r,"class",i),h&2&&f!==(f="py-1 w-full flex flex-row items-center "+(t[16].disabled?"":"hover:bg-blue-600")+" relative group-sub "+(t[16].disabled?"pointer-events-none":""))&&p(e,"class",f)},d(c){c&&m(e),a&&a.d(),b=!1,I()}}}function Ce(t){let e,s;return{c(){e=C("svg"),s=C("path"),this.h()},l(n){e=F(n,"svg",{class:!0,xmlns:!0,viewBox:!0});var r=E(e);s=F(r,"path",{d:!0}),E(s).forEach(m),r.forEach(m),this.h()},h(){p(s,"d","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z"),p(e,"class","fill-slate-800 w-1.5 h-1.5 group-sub-hover:fill-slate-50"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 512 512")},m(n,r){x(n,e,r),g(e,s)},p:G,d(n){n&&m(e)}}}function Fe(t){let e,s;return{c(){e=D("img"),this.h()},l(n){e=y(n,"IMG",{src:!0,width:!0,height:!0}),this.h()},h(){J(e.src,s=t[16].icon)||p(e,"src",s),p(e,"width","17px"),p(e,"height","17px")},m(n,r){x(n,e,r)},p(n,r){r&2&&!J(e.src,s=n[16].icon)&&p(e,"src",s)},d(n){n&&m(e)}}}function pe(t){let e;function s(o,l){return o[16]?Re:Ne}let n=s(t),r=n(t);return{c(){r.c(),e=re()},l(o){r.l(o),e=re()},m(o,l){r.m(o,l),x(o,e,l)},p(o,l){n===(n=s(o))&&r?r.p(o,l):(r.d(1),r=n(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){r.d(o),o&&m(e)}}}function me(t){let e,s,n,r,o,l=t[16].name+"",u,i,d,_,f,b,I,$,w=t[16].icon&&ce(t),a=t[16].items!=null&&de(),k=t[16].items!=null&&he(t);function c(){return t[10](t[16])}return{c(){e=D("div"),s=D("div"),w&&w.c(),n=z(),r=D("div"),o=D("p"),u=N(l),d=z(),_=D("div"),a&&a.c(),f=z(),k&&k.c(),this.h()},l(h){e=y(h,"DIV",{class:!0});var v=E(e);s=y(v,"DIV",{class:!0});var V=E(s);w&&w.l(V),V.forEach(m),n=A(v),r=y(v,"DIV",{class:!0});var M=E(r);o=y(M,"P",{});var O=E(o);u=R(O,l),O.forEach(m),M.forEach(m),d=A(v),_=y(v,"DIV",{class:!0});var U=E(_);a&&a.l(U),U.forEach(m),f=A(v),k&&k.l(v),v.forEach(m),this.h()},h(){p(s,"class","w-[20px] ml-1 shrink-0"),p(r,"class",i="grow "+(t[16].font=="bold"?"font-bold":"")+" "+(t[16].disabled?"text-slate-400":"group-hover:text-slate-50")),p(_,"class","w-[10px]"),p(e,"class",b="py-1 w-full flex flex-row items-center "+(t[16].disabled?"":"hover:bg-blue-600")+" relative group "+(t[16].disabled?"pointer-events-none":""))},m(h,v){x(h,e,v),g(e,s),w&&w.m(s,null),g(e,n),g(e,r),g(r,o),g(o,u),g(e,d),g(e,_),a&&a.m(_,null),g(e,f),k&&k.m(e,null),I||($=K(e,"click",c),I=!0)},p(h,v){t=h,t[16].icon?w?w.p(t,v):(w=ce(t),w.c(),w.m(s,null)):w&&(w.d(1),w=null),v&2&&l!==(l=t[16].name+"")&&ee(u,l),v&2&&i!==(i="grow "+(t[16].font=="bold"?"font-bold":"")+" "+(t[16].disabled?"text-slate-400":"group-hover:text-slate-50"))&&p(r,"class",i),t[16].items!=null?a||(a=de(),a.c(),a.m(_,null)):a&&(a.d(1),a=null),t[16].items!=null?k?k.p(t,v):(k=he(t),k.c(),k.m(e,null)):k&&(k.d(1),k=null),v&2&&b!==(b="py-1 w-full flex flex-row items-center "+(t[16].disabled?"":"hover:bg-blue-600")+" relative group "+(t[16].disabled?"pointer-events-none":""))&&p(e,"class",b)},d(h){h&&m(e),w&&w.d(),a&&a.d(),k&&k.d(),I=!1,$()}}}function _e(t){let e,s,n,r=t[13],o=[];for(let l=0;l<r.length;l+=1)o[l]=me(fe(t,r,l));return{c(){e=D("div");for(let l=0;l<o.length;l+=1)o[l].c();s=z(),this.h()},l(l){e=y(l,"DIV",{class:!0});var u=E(e);for(let i=0;i<o.length;i+=1)o[i].l(u);s=A(u),u.forEach(m),this.h()},h(){p(e,"class",n="w-full border-slate-200 "+(t[15]==t[1].length-1?"":"border-b"))},m(l,u){x(l,e,u);for(let i=0;i<o.length;i+=1)o[i].m(e,null);g(e,s)},p(l,u){if(u&447){r=l[13];let i;for(i=0;i<r.length;i+=1){const d=fe(l,r,i);o[i]?o[i].p(d,u):(o[i]=me(d),o[i].c(),o[i].m(e,s))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}u&2&&n!==(n="w-full border-slate-200 "+(l[15]==l[1].length-1?"":"border-b"))&&p(e,"class",n)},d(l){l&&m(e),Z(o,l)}}}function Ue(t){let e,s,n=`${t[4]}px`,r=`${t[5]}px`,o,l,u=t[1].filter(ve),i=[];for(let d=0;d<u.length;d+=1)i[d]=_e(ae(t,u,d));return{c(){e=D("div");for(let d=0;d<i.length;d+=1)i[d].c();this.h()},l(d){e=y(d,"DIV",{class:!0});var _=E(e);for(let f=0;f<i.length;f+=1)i[f].l(_);_.forEach(m),this.h()},h(){p(e,"class",s="context-menu z-20 pt-0.5 absolute border-2 border-slate-200 bg-slate-50 text-slate-900 w-[180px] text-[11px] "+(t[6]?"":"hidden")),P(e,"top",n,!1),P(e,"left",r,!1)},m(d,_){x(d,e,_);for(let f=0;f<i.length;f+=1)i[f].m(e,null);o||(l=[$e(Ae.call(null,e)),K(e,"click_outside",t[11])],o=!0)},p(d,[_]){if(_&447){u=d[1].filter(ve);let f;for(f=0;f<u.length;f+=1){const b=ae(d,u,f);i[f]?i[f].p(b,_):(i[f]=_e(b),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=u.length}_&64&&s!==(s="context-menu z-20 pt-0.5 absolute border-2 border-slate-200 bg-slate-50 text-slate-900 w-[180px] text-[11px] "+(d[6]?"":"hidden"))&&p(e,"class",s),_&16&&n!==(n=`${d[4]}px`)&&P(e,"top",n,!1),_&32&&r!==(r=`${d[5]}px`)&&P(e,"left",r,!1)},i:G,o:G,d(d){d&&m(e),Z(i,d),o=!1,De(l)}}}const ve=t=>t.length>0;function We(t,e,s){let n=[],r=0,o=0,l=0,u=0,i=!1,d=700,_=700,f=ie.subscribe(async a=>{if(a==null){s(6,i=!1);return}let{x:k,y:c,originator:h,type:v}=a;if(v==null)return;let V;v=="ProgramTile"?V=(await W(()=>import("../../chunks/CMProgramTile-5fefe8e4.js"),[])).make({type:v,originator:h}):v=="Desktop"?V=(await W(()=>import("../../chunks/CMDesktop-b73b92bc.js"),["_app/immutable/chunks/CMDesktop-b73b92bc.js","_app/immutable/chunks/store-fabc0359.js","_app/immutable/chunks/index-5377a032.js","_app/immutable/chunks/index-59da92c8.js","_app/immutable/chunks/system-e72d84b7.js","_app/immutable/chunks/fs-94169c0b.js","_app/immutable/chunks/utils-1f7a3290.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/index-355ed6be.js","_app/immutable/chunks/finder-f715ee8c.js","_app/immutable/chunks/admin-b2f51e94.js"])).make({type:v,originator:h}):v=="FSItem"?V=(await W(()=>import("../../chunks/CMFSItem-f8726949.js"),["_app/immutable/chunks/CMFSItem-f8726949.js","_app/immutable/chunks/preload-helper-c28b9807.js","_app/immutable/chunks/store-fabc0359.js","_app/immutable/chunks/index-5377a032.js","_app/immutable/chunks/index-59da92c8.js","_app/immutable/chunks/system-e72d84b7.js","_app/immutable/chunks/utils-1f7a3290.js","_app/immutable/chunks/fs-94169c0b.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/index-355ed6be.js","_app/immutable/chunks/finder-f715ee8c.js","_app/immutable/chunks/admin-b2f51e94.js"])).make({type:v,originator:h}):v=="FSVoid"?V=(await W(()=>import("../../chunks/CMFSVoid-19c67418.js"),["_app/immutable/chunks/CMFSVoid-19c67418.js","_app/immutable/chunks/store-fabc0359.js","_app/immutable/chunks/index-5377a032.js","_app/immutable/chunks/index-59da92c8.js","_app/immutable/chunks/system-e72d84b7.js","_app/immutable/chunks/fs-94169c0b.js","_app/immutable/chunks/utils-1f7a3290.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/index-355ed6be.js","_app/immutable/chunks/finder-f715ee8c.js","_app/immutable/chunks/admin-b2f51e94.js"])).make({type:v,originator:h}):v=="RecycleBin"?V=(await W(()=>import("../../chunks/RecycleBin-82e9f34a.js"),["_app/immutable/chunks/RecycleBin-82e9f34a.js","_app/immutable/chunks/preload-helper-c28b9807.js","_app/immutable/chunks/store-fabc0359.js","_app/immutable/chunks/index-5377a032.js","_app/immutable/chunks/index-59da92c8.js","_app/immutable/chunks/system-e72d84b7.js","_app/immutable/chunks/fs-94169c0b.js","_app/immutable/chunks/utils-1f7a3290.js","_app/immutable/chunks/_commonjsHelpers-cea7ac1a.js","_app/immutable/chunks/index-355ed6be.js","_app/immutable/chunks/finder-f715ee8c.js","_app/immutable/chunks/admin-b2f51e94.js"])).make({type:v,originator:h}):console.log("unknown context menu type"),s(1,n=V.menu),s(2,r=V.required_width),s(3,o=V.required_height),s(7,d=document.body.offsetWidth),s(8,_=document.body.offsetHeight),s(5,u=Math.min(k,d-r)),s(4,l=Math.min(c,_-o)),s(6,i=!0)});Ee(()=>{f()});let{hide:b=()=>{s(6,i=!1),ie.set(null)}}=e;const I=a=>{a.disabled||(b(),a.action())},$=a=>{if(!a.disabled){if(a.items!=null)return;b(),a.action()}},w=()=>b();return t.$$set=a=>{"hide"in a&&s(0,b=a.hide)},[b,n,r,o,l,u,i,d,_,I,$,w]}class He extends be{constructor(e){super(),we(this,e,We,Ue,ke,{hide:0})}}function ge(t){let e,s,n,r,o,l,u,i,d,_,f,b,I=(t[2]?.username||"Admin")+"",$,w,a,k,c,h,v;return{c(){e=D("div"),s=D("div"),n=z(),r=D("div"),o=C("svg"),l=C("path"),u=z(),i=D("span"),d=N("ADMIN MODE"),_=z(),f=D("span"),b=N("- Logged in as "),$=N(I),w=z(),a=D("div"),k=D("button"),c=N("Log Out"),this.h()},l(V){e=y(V,"DIV",{class:!0});var M=E(e);s=y(M,"DIV",{class:!0}),E(s).forEach(m),n=A(M),r=y(M,"DIV",{class:!0});var O=E(r);o=F(O,"svg",{class:!0,fill:!0,viewBox:!0});var U=E(o);l=F(U,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),E(l).forEach(m),U.forEach(m),u=A(O),i=y(O,"SPAN",{class:!0});var te=E(i);d=R(te,"ADMIN MODE"),te.forEach(m),_=A(O),f=y(O,"SPAN",{class:!0});var Y=E(f);b=R(Y,"- Logged in as "),$=R(Y,I),Y.forEach(m),O.forEach(m),w=A(M),a=y(M,"DIV",{class:!0});var le=E(a);k=y(le,"BUTTON",{class:!0});var se=E(k);c=R(se,"Log Out"),se.forEach(m),le.forEach(m),M.forEach(m),this.h()},h(){p(s,"class","flex-1"),p(l,"fill-rule","evenodd"),p(l,"d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"),p(l,"clip-rule","evenodd"),p(o,"class","w-4 h-4"),p(o,"fill","currentColor"),p(o,"viewBox","0 0 20 20"),p(i,"class","font-bold text-xs"),p(f,"class","text-xs opacity-80"),p(r,"class","flex items-center gap-2"),p(k,"class","text-xs bg-red-600 hover:bg-red-700 text-white px-3 py-0.5 rounded shadow-sm transition-colors"),p(a,"class","flex-1 flex justify-end"),p(e,"class","admin-banner absolute top-0 left-0 right-0 z-50 bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-500 text-black text-center py-1.5 px-4 shadow-lg flex items-center justify-between")},m(V,M){x(V,e,M),g(e,s),g(e,n),g(e,r),g(r,o),g(o,l),g(r,u),g(r,i),g(i,d),g(r,_),g(r,f),g(f,b),g(f,$),g(e,w),g(e,a),g(a,k),g(k,c),h||(v=K(k,"click",Le),h=!0)},p(V,M){M&4&&I!==(I=(V[2]?.username||"Admin")+"")&&ee($,I)},d(V){V&&m(e),h=!1,v()}}}function Ge(t){let e,s,n,r,o,l,u,i,d,_,f,b,I,$,w,a=t[1]&&ge(t);r=new ze({}),l=new Me({}),i=new Pe({}),_=new He({});let k={};return b=new Se({props:k}),t[3](b),$=new Oe({props:{timeout:6e4}}),{c(){e=D("div"),a&&a.c(),s=z(),n=D("div"),S(r.$$.fragment),o=z(),S(l.$$.fragment),u=z(),S(i.$$.fragment),d=z(),S(_.$$.fragment),f=z(),S(b.$$.fragment),I=z(),S($.$$.fragment),this.h()},l(c){e=y(c,"DIV",{id:!0,class:!0});var h=E(e);a&&a.l(h),s=A(h),n=y(h,"DIV",{class:!0});var v=E(n);T(r.$$.fragment,v),v.forEach(m),o=A(h),T(l.$$.fragment,h),u=A(h),T(i.$$.fragment,h),d=A(h),T(_.$$.fragment,h),h.forEach(m),f=A(c),T(b.$$.fragment,c),I=A(c),T($.$$.fragment,c),this.h()},h(){p(n,"class","absolute z-0 left-0 right-0 bottom-[30px]"),H(n,"top-0",!t[1]),H(n,"top-[32px]",t[1]),p(e,"id","desktop"),p(e,"class","absolute inset-0 p-0")},m(c,h){x(c,e,h),a&&a.m(e,null),g(e,s),g(e,n),j(r,n,null),g(e,o),j(l,e,null),g(e,u),j(i,e,null),g(e,d),j(_,e,null),x(c,f,h),j(b,c,h),x(c,I,h),j($,c,h),w=!0},p(c,[h]){c[1]?a?a.p(c,h):(a=ge(c),a.c(),a.m(e,s)):a&&(a.d(1),a=null),h&2&&H(n,"top-0",!c[1]),h&2&&H(n,"top-[32px]",c[1]);const v={};b.$set(v)},i(c){w||(L(r.$$.fragment,c),L(l.$$.fragment,c),L(i.$$.fragment,c),L(_.$$.fragment,c),L(b.$$.fragment,c),L($.$$.fragment,c),w=!0)},o(c){q(r.$$.fragment,c),q(l.$$.fragment,c),q(i.$$.fragment,c),q(_.$$.fragment,c),q(b.$$.fragment,c),q($.$$.fragment,c),w=!1},d(c){c&&m(e),a&&a.d(),B(r),B(l),B(i),B(_),c&&m(f),t[3](null),B(b,c),c&&m(I),B($,c)}}}function Je(t,e,s){let n,r,o;Q(t,X,f=>s(5,n=f)),Q(t,qe,f=>s(1,r=f)),Q(t,Be,f=>s(2,o=f));let l=ye(),u,i=[X.subscribe(async f=>{clearInterval(u),u=setTimeout(async()=>{console.log("update hardDrive"),await ne("hard_drive",n)},1e3)}),xe.subscribe(async f=>{f!=null&&await ne("wallpaper",f)}),oe.subscribe(f=>{if(f!=null&&f!="")switch(f){case"shutdown":l("load_page",{url:"./xp/shutdown.svelte"}),oe.set(null);break;case"restart":l("load_page",{url:"./xp/shutdown.svelte"});break}})],d;Ie(async()=>{loadjs(["https://www.gstatic.com/charts/loader.js","/js/mammoth.browser.min.js","https://unpkg.com/panzoom@9.4.0/dist/panzoom.min.js","https://unpkg.com/@ruffle-rs/ruffle"]),s(0,d.self=d,d),Te(),setTimeout(async()=>{const f=await je();Object.keys(f).length>0&&X.update(b=>{for(const[I,$]of Object.entries(f))b[I]||(b[I]=$,$.parent&&b[$.parent]&&!b[$.parent].children.includes(I)&&b[$.parent].children.push(I));return b})},500)}),Ee(()=>{for(let f of i)f();clearInterval(u)});function _(f){Ve[f?"unshift":"push"](()=>{d=f,s(0,d)})}return[d,r,o,_]}class wt extends be{constructor(e){super(),we(this,e,Je,Ge,ke,{})}}export{wt as default};

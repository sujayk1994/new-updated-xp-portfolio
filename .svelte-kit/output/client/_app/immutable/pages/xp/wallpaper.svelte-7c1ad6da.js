import{S as y,i as D,s as E,a6 as _,e as d,b as p,a7 as I,E as o,h as u,P as f,l as h,m as b,n as g,p as k,q as m}from"../../chunks/index-59da92c8.js";import{h as q,w as C}from"../../chunks/store-fabc0359.js";import"../../chunks/system-e72d84b7.js";import{g as L}from"../../chunks/index-355ed6be.js";import"../../chunks/index-5377a032.js";function P(r){return{c:o,l:o,m:o,p:o,d:o}}function R(r){let a,t=`url(${r[4]})`;return{c(){a=h("div"),this.h()},l(e){a=b(e,"DIV",{class:!0});var l=g(a);l.forEach(u),this.h()},h(){k(a,"class","absolute inset-0 bg-cover"),m(a,"background-image",t,!1)},m(e,l){p(e,a,l)},p(e,l){l&2&&t!==(t=`url(${e[4]})`)&&m(a,"background-image",t,!1)},d(e){e&&u(a)}}}function S(r){let a,t=`url(${r[0]})`;return{c(){a=h("div"),this.h()},l(e){a=b(e,"DIV",{class:!0});var l=g(a);l.forEach(u),this.h()},h(){k(a,"class","absolute inset-0 bg-cover bg-black"),m(a,"background-image",t,!1)},m(e,l){p(e,a,l)},p(e,l){l&1&&t!==(t=`url(${e[0]})`)&&m(a,"background-image",t,!1)},d(e){e&&u(a)}}}function U(r){let a,t,e={ctx:r,current:null,token:null,hasCatch:!1,pending:S,then:R,catch:P,value:4};return _(t=r[2](r[1]),e),{c(){a=d(),e.block.c()},l(l){a=d(),e.block.l(l)},m(l,n){p(l,a,n),e.block.m(l,e.anchor=n),e.mount=()=>a.parentNode,e.anchor=a},p(l,[n]){r=l,e.ctx=r,n&2&&t!==(t=r[2](r[1]))&&_(t,e)||I(e,r,n)},i:o,o,d(l){l&&u(a),e.block.d(l),e.token=null,e=null}}}function V(r){return new Promise(a=>{let t=new Image;t.src=r,t.onload=()=>a()})}function $(r,a,t){let e,l;f(r,q,s=>t(3,e=s)),f(r,C,s=>t(1,l=s));let n="";async function v(s){let c=e[s];console.log(c);let i=null;if(c.storage_type=="remote")i=c.url;else if(c.storage_type=="local"){let w=await L(c.url);i=URL.createObjectURL(w)}return await V(i),t(0,n=i),i}return[n,l,v]}class A extends y{constructor(a){super(),D(this,a,$,U,E,{})}}export{A as default};

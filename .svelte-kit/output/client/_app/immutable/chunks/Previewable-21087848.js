import{S as v,i as k,s as y,l as z,m as I,n as E,h,p,q as r,b as q,E as _,o as P,_ as S}from"./index-59da92c8.js";import{g as C}from"./fs-94169c0b.js";function D(l){let e,i=`${l[1]}px`,a=`${l[1]}px`;return{c(){e=z("div"),this.h()},l(t){e=I(t,"DIV",{class:!0});var s=E(e);s.forEach(h),this.h()},h(){p(e,"class","shrink-0 bg-contain bg-no-repeat bg-center"),r(e,"background-image",l[2]||l[0],!1),r(e,"width",i,!1),r(e,"height",a,!1)},m(t,s){q(t,e,s),l[5](e)},p(t,[s]){s&5&&r(e,"background-image",t[2]||t[0],!1),s&2&&i!==(i=`${t[1]}px`)&&r(e,"width",i,!1),s&2&&a!==(a=`${t[1]}px`)&&r(e,"height",a,!1)},i:_,o:_,d(t){t&&h(e),l[5](null)}}}function M(l,e,i){let{default_icon:a}=e,{fs_id:t}=e,{size:s=50}=e,o,f,u;P(async()=>{u=new IntersectionObserver(d,{root:null,threshold:1}),u.observe(f)});let d=(n,c)=>{n.forEach(m=>{let{target:O,isIntersecting:w}=m;w&&g()})};async function g(){if(console.log(o),o!=null||t==null)return;let n=await C(t),c=new Image;c.src=n,c.onload=()=>i(2,o=`url(${n})`)}function b(n){S[n?"unshift":"push"](()=>{f=n,i(3,f)})}return l.$$set=n=>{"default_icon"in n&&i(0,a=n.default_icon),"fs_id"in n&&i(4,t=n.fs_id),"size"in n&&i(1,s=n.size)},[a,s,o,f,t,b]}class A extends v{constructor(e){super(),k(this,e,M,D,y,{default_icon:0,fs_id:4,size:1})}}export{A as P};

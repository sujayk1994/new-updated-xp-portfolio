import{sort as _}from"fast-sort";import{S as s,a as y}from"../../../../../_app/immutable/chunks/system-eda41220.js";let n={};onmessage=async({data:p})=>{let{type:c,hash:r,id:o,items:a,sort_option:i,sort_order:m}=p;if(c!="sort")return;if(i==s.NONE){postMessage({id:o,sorted_items:a,type:"sorted"});return}if(n[r]!=null){postMessage({id:o,sorted_items:n[r],type:"sorted"});return}console.log("sorting",r);for(let t of a)t.type=="folder"&&(t.size=0);let l=m==y.ASCENDING?"asc":"desc",e="name";switch(i){case s.NAME:e="name";break;case s.SIZE:e="size";break;case s.DATE_CREATED:e="date_created";break;case s.DATE_MODIFIED:e="date_modified";break}let d={};d[l]=t=>e=="name"?t[e].toLowerCase():t[e];let f=_(a).by([d]);postMessage({id:o,sorted_items:f,type:"sorted"})};

import{c as j,a as _,v as P,e as w,j as z}from"../../../../_app/immutable/chunks/index-ff400fad.js";import{W as N}from"../../../../_app/immutable/chunks/Window-e98aeb2f.js";import{h as G,z as W,r as I}from"../../../../_app/immutable/chunks/store-3e4ea696.js";import"../../../../_app/immutable/chunks/system-eda41220.js";import"short-uuid";import"../../../../_app/immutable/chunks/finder-762cc408.js";import"buffer";import"../../../../_app/immutable/chunks/TitleBar-7840ae1a.js";import"lodash";import"idb-keyval";import"../../../../_app/immutable/chunks/index-2945f287.js";const H=j((x,t,e,b)=>{let f,v,c;f=_(G,i=>i),c=_(W,i=>v=i);let{id:r}=t,{window:a}=t,{self:m}=t,{parentNode:h}=t,{fs_item:o}=t,{exec_path:d}=t,p=[{name:"Portable Network Graphics",mime:"image/png",value:"image/png",ext:".png"},{name:"JPEG images",mime:"image/jpeg",value:"image/jpeg",ext:".jpg"},{name:"JPEG images",mime:"image/jpeg",value:"image/jpeg",ext:".jpeg"},{name:"Windows OS/2 Bitmap Graphics",mime:"image/bmp",value:"image/bmp",ext:".bmp"}];p=p.map(i=>(i.name=i.name+" ("+i.ext+")",i));let g;async function l(){I.update(i=>i.filter(y=>y!=m)),m.$destroy()}let{options:n={title:o==null?"Paint":o.name,min_width:500,min_height:400,width:700,height:500,icon:"/images/xp/icons/Paint.png",id:r,exec_path:d}}=t;t.id===void 0&&e.id&&r!==void 0&&e.id(r),t.window===void 0&&e.window&&a!==void 0&&e.window(a),t.self===void 0&&e.self&&m!==void 0&&e.self(m),t.parentNode===void 0&&e.parentNode&&h!==void 0&&e.parentNode(h),t.fs_item===void 0&&e.fs_item&&o!==void 0&&e.fs_item(o),t.exec_path===void 0&&e.exec_path&&d!==void 0&&e.exec_path(d),t.destroy===void 0&&e.destroy&&l!==void 0&&e.destroy(l),t.options===void 0&&e.options&&n!==void 0&&e.options(n);let s,u;do s=!0,o&&a&&a.update_title(o.name),u=`${P(N,"Window").$$render(x,{options:n,on_click_close:l,this:a},{this:i=>{a=i,s=!1}},{content:()=>`<div slot="content" class="absolute inset-1 top-0 flex flex-col bg-[rgb(192,192,192)] overflow-hidden">
        
        <iframe src="/html/jspaint/index.html" width="100%" height="100%" class="${"inset-0 absolute bg-white "+w(a?.z_index==v?"pointer-events-auto":"pointer-events-none",!0)}" style="${"visibility: "+w("hidden",!0)}"${z("this",g,0)}></iframe></div>`})}


`;while(!s);return f(),c(),u});export{H as default};

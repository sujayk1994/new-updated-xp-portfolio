import{c as G,a as H,v,e as P,j}from"../../../../_app/immutable/chunks/index-ff400fad.js";import{W as q}from"../../../../_app/immutable/chunks/Window-e98aeb2f.js";import{z as A,r as B,a as x}from"../../../../_app/immutable/chunks/store-3e4ea696.js";import{M as C}from"../../../../_app/immutable/chunks/Menu-9b4db4a8.js";import"../../../../_app/immutable/chunks/TitleBar-7840ae1a.js";import"lodash";import"idb-keyval";import"../../../../_app/immutable/chunks/index-2945f287.js";import"../../../../_app/immutable/chunks/system-eda41220.js";let g=30,z=30;const U=G((p,t,e,D)=>{let h,u;u=H(A,i=>h=i);let{id:l}=t,{window:n}=t,{self:r}=t,{parentNode:a}=t,o,M={beginner:{width:236,height:295},intermediate:{width:436,height:495},expert:{width:786,height:495}};function s(){B.update(i=>i.filter(d=>d!=r)),r.$destroy()}let{options:f={title:"Minesweeper",width:236,height:295+g+z,icon:"/images/xp/icons/Minesweeper.png",resizable:!1,maximize_btn_disabled:!0,id:l}}=t,b=[{name:"Game",items:[[{name:"New Game",action:()=>{W()}}],[{name:"Beginner",action:()=>{y()}},{name:"Intermediate",action:()=>{k()}},{name:"Expert",action:()=>{N()}}],[{name:"Exit",action:()=>{s()}}]]},{name:"Help",items:[[{name:"Contents",action:()=>{x.set({path:"./programs/internet_explorer.svelte",fs_item:{url:"https://en.wikipedia.org/wiki/Minesweeper_(video_game)"}})}},{name:"About Minesweeper",action:()=>{x.set({path:"./programs/internet_explorer.svelte",fs_item:{url:"https://en.wikipedia.org/wiki/Minesweeper_(video_game)"}})}}]]}];function W(){o.contentWindow.new_game()}function y(){w("beginner"),o.contentWindow.beginner()}function k(){w("intermediate"),o.contentWindow.intermediate()}function N(){w("expert"),o.contentWindow.expert()}function w(i){let{width:d,height:m}=M[i];m=m+g+z;let I=(a.offsetHeight-m)/2,E=(a.offsetWidth-d)/2;n.set_position({top:I,left:E,width:d,height:m})}t.id===void 0&&e.id&&l!==void 0&&e.id(l),t.window===void 0&&e.window&&n!==void 0&&e.window(n),t.self===void 0&&e.self&&r!==void 0&&e.self(r),t.parentNode===void 0&&e.parentNode&&a!==void 0&&e.parentNode(a),t.destroy===void 0&&e.destroy&&s!==void 0&&e.destroy(s),t.options===void 0&&e.options&&f!==void 0&&e.options(f);let c,_;do c=!0,_=`${v(q,"Window").$$render(p,{options:f,on_click_close:s,this:n},{this:i=>{n=i,c=!1}},{content:()=>`<div slot="content" class="absolute inset-0 flex flex-col bg-xp-yellow">${v(C,"Menu").$$render(p,{menu:b},{},{})}
        <iframe title="minesweeper" src="/html/games/minesweeper/index.html" class="${"w-full h-full "+P(n?.z_index==h?"pointer-events-auto":"pointer-events-none",!0)}" frameborder="0"${j("this",o,0)}></iframe></div>`})}


`;while(!c);return u(),_});export{U as default};
